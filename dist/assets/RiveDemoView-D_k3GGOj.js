import{L as li,d as ci,r as Be,l as fi,o as di,M as hi,c as bn,b as J,f as xr,m as Un,k as Lt,H as Bn,I as Sr,v as pi,J as vi,h as _n,_ as mi}from"./index-Vb9Qnebq.js";var Vr={exports:{}};(function(Nn,Tt){(function(ot,_e){Nn.exports=_e()})(li,()=>(()=>{var vt=[,(le,k,U)=>{U.r(k),U.d(k,{default:()=>$});var te=(()=>{var Y=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(O={}){var c=O,he,se;c.ready=new Promise((e,t)=>{he=e,se=t});function Ae(){function e(f){const v=o;r=t=0,o=new Map,v.forEach(m=>{try{m(f)}catch(p){console.error(p)}}),this.pb(),s&&s.Tb()}let t=0,r=0,o=new Map,s=null,l=null;this.requestAnimationFrame=function(f){t||(t=requestAnimationFrame(e.bind(this)));const v=++r;return o.set(v,f),v},this.cancelAnimationFrame=function(f){o.delete(f),t&&o.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(f){l&&(document.body.remove(l),l=null),f||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",f=function(v){l.innerHTML="RIVE FPS "+v.toFixed(1)},document.body.appendChild(l)),s=new function(){let v=0,m=0;this.Tb=function(){var p=performance.now();m?(++v,p-=m,1e3<p&&(f(1e3*v/p),v=m=0)):(m=p,v=0)}}},this.Ob=function(){l&&(document.body.remove(l),l=null),s=null},this.pb=function(){}}function ce(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(o){return o=o+((1<<e)-1)>>e,t.has(o)&&clearTimeout(t.get(o)),t.set(o,setTimeout(function(){t.delete(o),t.length==0?r=-1/0:o==r&&(r=Math.max(...t.keys()),console.assert(r<o))},1e3)),r=Math.max(o,r),r<<e}}const ue=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){ue&&ue();let e=c.decodeAudio;c.decodeAudio=function(s,l){s=e(s),l(s)};let t=c.decodeFont;c.decodeFont=function(s,l){s=t(s),l(s)};const r=c.FileAssetLoader;c.ptrToAsset=s=>{let l=c.ptrToFileAsset(s);return l.isImage?c.ptrToImageAsset(s):l.isFont?c.ptrToFontAsset(s):l.isAudio?c.ptrToAudioAsset(s):l},c.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,l){return s=c.ptrToAsset(s),this.Gb(s,l)}}),c.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let l=c.ptrToAsset(s);return s=l.cdnUuid,s===""?!1:(function(f,v){var m=new XMLHttpRequest;m.responseType="arraybuffer",m.onreadystatechange=function(){m.readyState==4&&m.status==200&&v(m)},m.open("GET",f,!0),m.send(null)}(l.cdnBaseUrl+"/"+s,f=>{l.decode(new Uint8Array(f.response))}),!0)}}),c.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(s){this.lb.push(s)},loadContents:function(s,l){for(let f of this.lb)if(f.loadContents(s,l))return!0;return!1}});let o=c.computeAlignment;c.computeAlignment=function(s,l,f,v,m=1){return o.call(this,s,l,f,v,m)}};const Ee="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),de=new function(){function e(){if(!t){let W=function(B,R,ve){if(R=_.createShader(R),_.shaderSource(R,ve),_.compileShader(R),ve=_.getShaderInfoLog(R),0<(ve||"").length)throw ve;_.attachShader(B,R)};var d=document.createElement("canvas"),A={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let _;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(_=d.getContext("webgl",A),r=1,!_)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(_=d.getContext("webgl2",A))r=2;else if(_=d.getContext("webgl",A))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(_=new Proxy(_,{get(B,R){if(B.isContextLost()){if(m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",R),m=!0),typeof B[R]=="function")return function(){}}else return typeof B[R]=="function"?function(...ve){return B[R].apply(B,ve)}:B[R]},set(B,R,ve){if(B.isContextLost())m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+R),m=!0);else return B[R]=ve,!0}}),o=Math.min(_.getParameter(_.MAX_RENDERBUFFER_SIZE),_.getParameter(_.MAX_TEXTURE_SIZE)),d=_.createProgram(),W(d,_.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),W(d,_.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),_.bindAttribLocation(d,0,"vertex"),_.bindAttribLocation(d,1,"uv"),_.linkProgram(d),A=_.getProgramInfoLog(d),0<(A||"").trim().length)throw A;s=_.getUniformLocation(d,"mat"),l=_.getUniformLocation(d,"translate"),_.useProgram(d),_.bindBuffer(_.ARRAY_BUFFER,_.createBuffer()),_.enableVertexAttribArray(0),_.enableVertexAttribArray(1),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,_.createBuffer()),_.uniform1i(_.getUniformLocation(d,"image"),0),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=_}return!0}let t=null,r=0,o=0,s=null,l=null,f=0,v=0,m=!1;e(),this.hc=function(){return e(),o},this.Mb=function(d){t.deleteTexture&&t.deleteTexture(d)},this.Lb=function(d){if(!e())return null;const A=t.createTexture();return A?(t.bindTexture(t.TEXTURE_2D,A),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,d),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),A):null};const p=new ce(8),C=new ce(8),M=new ce(10),P=new ce(10);this.Qb=function(d,A,_,W,B){if(e()){var R=p.push(d),ve=C.push(A);if(t.canvas){(t.canvas.width!=R||t.canvas.height!=ve)&&(t.canvas.width=R,t.canvas.height=ve),t.viewport(0,ve-A,d,A),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),_.sort((Q,it)=>it.xb-Q.xb),R=M.push(W),f!=R&&(t.bufferData(t.ARRAY_BUFFER,8*R,t.DYNAMIC_DRAW),f=R),R=0;for(var Le of _)t.bufferSubData(t.ARRAY_BUFFER,R,Le.Ua),R+=4*Le.Ua.length;console.assert(R==4*W);for(var rt of _)t.bufferSubData(t.ARRAY_BUFFER,R,rt.Db),R+=4*rt.Db.length;console.assert(R==8*W),R=P.push(B),v!=R&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*R,t.DYNAMIC_DRAW),v=R),Le=0;for(var Et of _)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,Le,Et.indices),Le+=2*Et.indices.length;console.assert(Le==2*B),Et=0,rt=!0,R=Le=0;for(const Q of _){Q.image.Ka!=Et&&(t.bindTexture(t.TEXTURE_2D,Q.image.Ja||null),Et=Q.image.Ka),Q.mc?(t.scissor(Q.Za,ve-Q.$a-Q.kb,Q.Ac,Q.kb),rt=!0):rt&&(t.scissor(0,ve-A,d,A),rt=!1),_=2/d;const it=-2/A;t.uniform4f(s,Q.ha[0]*_*Q.Ba,Q.ha[1]*it*Q.Ca,Q.ha[2]*_*Q.Ba,Q.ha[3]*it*Q.Ca),t.uniform2f(l,Q.ha[4]*_*Q.Ba+_*(Q.Za-Q.ic*Q.Ba)-1,Q.ha[5]*it*Q.Ca+it*(Q.$a-Q.jc*Q.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,R),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,R+4*W),t.drawElements(t.TRIANGLES,Q.indices.length,t.UNSIGNED_SHORT,Le),R+=4*Q.Ua.length,Le+=2*Q.indices.length}console.assert(R==4*W),console.assert(Le==2*B)}}},this.canvas=function(){return e()&&t.canvas}},z=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){function e(w){switch(w){case p.srcOver:return"source-over";case p.screen:return"screen";case p.overlay:return"overlay";case p.darken:return"darken";case p.lighten:return"lighten";case p.colorDodge:return"color-dodge";case p.colorBurn:return"color-burn";case p.hardLight:return"hard-light";case p.softLight:return"soft-light";case p.difference:return"difference";case p.exclusion:return"exclusion";case p.multiply:return"multiply";case p.hue:return"hue";case p.saturation:return"saturation";case p.color:return"color";case p.luminosity:return"luminosity"}}function t(w){return"rgba("+((16711680&w)>>>16)+","+((65280&w)>>>8)+","+((255&w)>>>0)+","+((4278190080&w)>>>24)/255+")"}function r(){0<ve.length&&(de.Qb(R.drawWidth(),R.drawHeight(),ve,Le,rt),ve=[],rt=Le=0,R.reset(512,512));for(const w of B){for(const I of w.H)I();w.H=[]}B.clear()}z&&z();var o=c.RenderPaintStyle;const s=c.RenderPath,l=c.RenderPaint,f=c.Renderer,v=c.StrokeCap,m=c.StrokeJoin,p=c.BlendMode,C=o.fill,M=o.stroke,P=c.FillRule.evenOdd;let d=1;var A=c.RenderImage.extend("CanvasRenderImage",{__construct:function({la:w,xa:I}={}){this.__parent.__construct.call(this),this.Ka=d,d=d+1&2147483647||1,this.la=w,this.xa=I},__destruct:function(){this.Ja&&(de.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(w){var I=this;I.xa&&I.xa(I);var H=new Image;I.Xa=URL.createObjectURL(new Blob([w],{type:"image/png"})),H.onload=function(){I.Fb=H,I.Ja=de.Lb(H),I.size(H.width,H.height),I.la&&I.la(I)},H.src=I.Xa}}),_=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(w,I,H,Z,D,K,oe){var ae=this.T,qe=ae.addPath;w=w.T;const Re=new DOMMatrix;Re.a=I,Re.b=H,Re.c=Z,Re.d=D,Re.e=K,Re.f=oe,qe.call(ae,w,Re)},fillRule:function(w){this.Wa=w},moveTo:function(w,I){this.T.moveTo(w,I)},lineTo:function(w,I){this.T.lineTo(w,I)},cubicTo:function(w,I,H,Z,D,K){this.T.bezierCurveTo(w,I,H,Z,D,K)},close:function(){this.T.closePath()}}),W=l.extend("CanvasRenderPaint",{color:function(w){this.Ya=t(w)},thickness:function(w){this.Ib=w},join:function(w){switch(w){case m.miter:this.Ia="miter";break;case m.round:this.Ia="round";break;case m.bevel:this.Ia="bevel"}},cap:function(w){switch(w){case v.butt:this.Ha="butt";break;case v.round:this.Ha="round";break;case v.square:this.Ha="square"}},style:function(w){this.Hb=w},blendMode:function(w){this.Eb=e(w)},clearGradient:function(){this.ja=null},linearGradient:function(w,I,H,Z){this.ja={zb:w,Ab:I,cb:H,eb:Z,Ra:[]}},radialGradient:function(w,I,H,Z){this.ja={zb:w,Ab:I,cb:H,eb:Z,Ra:[],ec:!0}},addStop:function(w,I){this.ja.Ra.push({color:w,stop:I})},completeGradient:function(){},draw:function(w,I,H){let Z=this.Hb;var D=this.Ya,K=this.ja;if(w.globalCompositeOperation=this.Eb,K!=null){D=K.zb;var oe=K.Ab;const qe=K.cb;var ae=K.eb;const Re=K.Ra;K.ec?(K=qe-D,ae-=oe,D=w.createRadialGradient(D,oe,0,D,oe,Math.sqrt(K*K+ae*ae))):D=w.createLinearGradient(D,oe,qe,ae);for(let ze=0,Ie=Re.length;ze<Ie;ze++)oe=Re[ze],D.addColorStop(oe.stop,t(oe.color));this.Ya=D,this.ja=null}switch(Z){case M:w.strokeStyle=D,w.lineWidth=this.Ib,w.lineCap=this.Ha,w.lineJoin=this.Ia,w.stroke(I);break;case C:w.fillStyle=D,w.fill(I,H)}}});const B=new Set;let R=null,ve=[],Le=0,rt=0;var Et=c.CanvasRenderer=f.extend("Renderer",{__construct:function(w){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=w.getContext("2d"),this.Va=w,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const w=this.S.length-6;if(6>w)throw"restore() called without matching save().";this.S.splice(w),this.H.push(this.C.restore.bind(this.C))},transform:function(w,I,H,Z,D,K){const oe=this.S,ae=oe.length-6;oe.splice(ae,6,oe[ae]*w+oe[ae+2]*I,oe[ae+1]*w+oe[ae+3]*I,oe[ae]*H+oe[ae+2]*Z,oe[ae+1]*H+oe[ae+3]*Z,oe[ae]*D+oe[ae+2]*K+oe[ae+4],oe[ae+1]*D+oe[ae+3]*K+oe[ae+5]),this.H.push(this.C.transform.bind(this.C,w,I,H,Z,D,K))},rotate:function(w){const I=Math.sin(w);w=Math.cos(w),this.transform(w,I,-I,w,0,0)},_drawPath:function(w,I){this.H.push(I.draw.bind(I,this.C,w.T,w.Wa===P?"evenodd":"nonzero"))},_drawRiveImage:function(w,I,H,Z){var D=w.Fb;if(D){var K=this.C,oe=e(H);this.H.push(function(){K.globalCompositeOperation=oe,K.globalAlpha=Z,K.drawImage(D,0,0),K.globalAlpha=1})}},_getMatrix:function(w){const I=this.S,H=I.length-6;for(let Z=0;6>Z;++Z)w[Z]=I[H+Z]},_drawImageMesh:function(w,I,H,Z,D,K,oe,ae,qe,Re,ze){I=this.C.canvas.width;var Ie=this.C.canvas.height;const Fr=Re-ae,Lr=ze-qe;ae=Math.max(ae,0),qe=Math.max(qe,0),Re=Math.min(Re,I),ze=Math.min(ze,Ie);const Xt=Re-ae,Gt=ze-qe;if(console.assert(Xt<=Math.min(Fr,I)),console.assert(Gt<=Math.min(Lr,Ie)),!(0>=Xt||0>=Gt)){Re=Xt<Fr||Gt<Lr,I=ze=1;var Pt=Math.ceil(Xt*ze),Ft=Math.ceil(Gt*I);Ie=de.hc(),Pt>Ie&&(ze*=Ie/Pt,Pt=Ie),Ft>Ie&&(I*=Ie/Ft,Ft=Ie),R||(R=new c.DynamicRectanizer(Ie),R.reset(512,512)),Ie=R.addRect(Pt,Ft),0>Ie&&(r(),B.add(this),Ie=R.addRect(Pt,Ft),console.assert(0<=Ie));var Tr=Ie&65535,Or=Ie>>16;ve.push({ha:this.S.slice(this.S.length-6),image:w,Za:Tr,$a:Or,ic:ae,jc:qe,Ac:Pt,kb:Ft,Ba:ze,Ca:I,Ua:new Float32Array(D),Db:new Float32Array(K),indices:new Uint16Array(oe),mc:Re,xb:w.Ka<<1|(Re?1:0)}),Le+=D.length,rt+=oe.length;var Vt=this.C,ui=e(H);this.H.push(function(){Vt.save(),Vt.resetTransform(),Vt.globalCompositeOperation=ui,Vt.globalAlpha=Z;const jr=de.canvas();jr&&Vt.drawImage(jr,Tr,Or,Pt,Ft,ae,qe,Xt,Gt),Vt.restore()})}},_clipPath:function(w){this.H.push(this.C.clip.bind(this.C,w.T,w.Wa===P?"evenodd":"nonzero"))},clear:function(){B.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(w,I){this.transform(1,0,0,1,w,I)}});c.makeRenderer=function(w){const I=new Et(w),H=I.C;return new Proxy(I,{get(Z,D){if(typeof Z[D]=="function")return function(...K){return Z[D].apply(Z,K)};if(typeof H[D]=="function"){if(-1<Ee.indexOf(D))throw Error("RiveException: Method call to '"+D+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...K){I.H.push(H[D].bind(H,...K))}}return Z[D]},set(Z,D,K){if(D in H)return I.H.push(()=>{H[D]=K}),!0}})},c.decodeImage=function(w,I){new A({la:I}).decode(w)},c.renderFactory={makeRenderPaint:function(){return new W},makeRenderPath:function(){return new _},makeRenderImage:function(){let w=it;return new A({xa:()=>{w.total++},la:()=>{if(w.loaded++,w.loaded===w.total){const I=w.ready;I&&(I(),w.ready=null)}}})}};let Q=c.load,it=null;c.load=function(w,I,H=!0){const Z=new c.FallbackFileAssetLoader;return I!==void 0&&Z.addLoader(I),H&&(I=new c.CDNFileAssetLoader,Z.addLoader(I)),new Promise(function(D){let K=null;it={total:0,loaded:0,ready:function(){D(K)}},K=Q(w,Z),it.total==0&&D(K)})};let si=c.RendererWrapper.prototype.align;c.RendererWrapper.prototype.align=function(w,I,H,Z,D=1){si.call(this,w,I,H,Z,D)},o=new Ae,c.requestAnimationFrame=o.requestAnimationFrame.bind(o),c.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),c.enableFPSCounter=o.Rb.bind(o),c.disableFPSCounter=o.Ob,o.pb=r,c.resolveAnimationFrame=r,c.cleanup=function(){R&&R.delete()}};var y=Object.assign({},c),E="./this.program",X=typeof window=="object",re=typeof importScripts=="function",ye="",j,pe;(X||re)&&(re?ye=self.location.href:typeof document<"u"&&document.currentScript&&(ye=document.currentScript.src),Y&&(ye=Y),ye.indexOf("blob:")!==0?ye=ye.substr(0,ye.replace(/[?#].*/,"").lastIndexOf("/")+1):ye="",re&&(pe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),j=(e,t,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)});var je=c.print||console.log.bind(console),xe=c.printErr||console.error.bind(console);Object.assign(c,y),y=null,c.thisProgram&&(E=c.thisProgram);var Pe;c.wasmBinary&&(Pe=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&gt("no native wasm support detected");var at,q,Ot=!1,Ce,ge,Fe,He,G,ne,Xe,fe;function De(){var e=at.buffer;c.HEAP8=Ce=new Int8Array(e),c.HEAP16=Fe=new Int16Array(e),c.HEAP32=G=new Int32Array(e),c.HEAPU8=ge=new Uint8Array(e),c.HEAPU16=He=new Uint16Array(e),c.HEAPU32=ne=new Uint32Array(e),c.HEAPF32=Xe=new Float32Array(e),c.HEAPF64=fe=new Float64Array(e)}var be,st=[],mt=[],ut=[];function Ct(){var e=c.preRun.shift();st.unshift(e)}var Se=0,Ge=null;function gt(e){throw c.onAbort&&c.onAbort(e),e="Aborted("+e+")",xe(e),Ot=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),se(e),e}function Wt(e){return e.startsWith("data:application/octet-stream;base64,")}var lt;if(lt="canvas_advanced.wasm",!Wt(lt)){var Kt=lt;lt=c.locateFile?c.locateFile(Kt,ye):ye+Kt}function ke(e){if(e==lt&&Pe)return new Uint8Array(Pe);if(pe)return pe(e);throw"both async and sync fetching of the wasm failed"}function An(e){if(!Pe&&(X||re)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>ke(e));if(j)return new Promise((t,r)=>{j(e,o=>t(new Uint8Array(o)),r)})}return Promise.resolve().then(()=>ke(e))}function Jt(e,t,r){return An(e).then(o=>WebAssembly.instantiate(o,t)).then(o=>o).then(r,o=>{xe("failed to asynchronously prepare wasm: "+o),gt(o)})}function Cn(e,t){var r=lt;return Pe||typeof WebAssembly.instantiateStreaming!="function"||Wt(r)||r.startsWith("file://")||typeof fetch!="function"?Jt(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(s){return xe("wasm streaming compile failed: "+s),xe("falling back to ArrayBuffer instantiation"),Jt(r,e,t)}))}var yt,a,n={459004:(e,t,r,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=o,window.h.ga.yb=s;let l=window.h;l.D=[],l.yc=function(f){for(var v=0;v<l.D.length;++v)if(l.D[v]==null)return l.D[v]=f,v;return l.D.push(f),l.D.length-1},l.Cb=function(f){for(l.D[f]=null;0<l.D.length&&l.D[l.D.length-1]==null;)l.D.pop()},l.Sc=function(f){for(var v=0;v<l.D.length;++v)if(l.D[v]==f)return l.Cb(v)},l.ra=function(f){return l.D[f]},l.Ta=["touchend","click"],l.unlock=function(){for(var f=0;f<l.D.length;++f){var v=l.D[f];v!=null&&v.J!=null&&v.state===l.ga.yb&&v.J.resume().then(()=>{Mr(v.qb)},m=>{console.error("Failed to resume audiocontext",m)})}l.Ta.map(function(m){document.removeEventListener(m,l.unlock,!0)})},l.Ta.map(function(f){document.addEventListener(f,l.unlock,!0)})}return window.h.Aa+=1,1},461182:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},461486:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,461590:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},461761:(e,t,r,o,s,l)=>{if(typeof window.h>"u")return-1;var f={},v={};return e==window.h.I.ya&&r!=0&&(v.sampleRate=r),f.J=new(window.AudioContext||window.webkitAudioContext)(v),f.J.suspend(),f.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),f.Z=f.J.createScriptProcessor(o,r,t),f.Z.onaudioprocess=function(m){if((f.sa==null||f.sa.length==0)&&(f.sa=new Float32Array(Xe.buffer,s,o*t)),e==window.h.I.capture||e==window.h.I.La){for(var p=0;p<t;p+=1)for(var C=m.inputBuffer.getChannelData(p),M=f.sa,P=0;P<o;P+=1)M[P*t+p]=C[P];Rr(l,o,s)}if(e==window.h.I.ya||e==window.h.I.La)for(Ir(l,o,s),p=0;p<m.outputBuffer.numberOfChannels;++p)for(C=m.outputBuffer.getChannelData(p),M=f.sa,P=0;P<o;P+=1)C[P]=M[P*t+p];else for(p=0;p<m.outputBuffer.numberOfChannels;++p)m.outputBuffer.getChannelData(p).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(m){f.Da=f.J.createMediaStreamSource(m),f.Da.connect(f.Z),f.Z.connect(f.J.destination)}).catch(function(m){console.log("Failed to get user media: "+m)}),e==window.h.I.ya&&f.Z.connect(f.J.destination),f.qb=l,window.h.yc(f)},464638:e=>window.h.ra(e).J.sampleRate,464711:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.qb=void 0},465111:e=>{window.h.Cb(e)},465161:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.yb},465300:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},i=e=>{for(;0<e.length;)e.shift()(c)},u=(e,t)=>{for(var r=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},h=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=u(e.split("/").filter(o=>!!o),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},g=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},b=e=>{if(e==="/")return"/";e=h(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},T=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);gt("initRandomDevice")},S=e=>(S=T())(e);function L(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=u(e.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+e||"."}var N=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ie=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&N)return N.decode(e.subarray(t,r));for(o="";t<r;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|l);else{var f=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|f:(s&7)<<18|l<<12|f<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Me=[],me=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3}return t},Ke=(e,t,r,o)=>{if(!(0<o))return 0;var s=r;o=r+o-1;for(var l=0;l<e.length;++l){var f=e.charCodeAt(l);if(55296<=f&&57343>=f){var v=e.charCodeAt(++l);f=65536+((f&1023)<<10)|v&1023}if(127>=f){if(r>=o)break;t[r++]=f}else{if(2047>=f){if(r+1>=o)break;t[r++]=192|f>>6}else{if(65535>=f){if(r+2>=o)break;t[r++]=224|f>>12}else{if(r+3>=o)break;t[r++]=240|f>>18,t[r++]=128|f>>12&63}t[r++]=128|f>>6&63}t[r++]=128|f&63}}return t[r]=0,r-s};function Ne(e,t){var r=Array(me(e)+1);return e=Ke(e,r,0,r.length),t&&(r.length=e),r}var Ve=[];function We(e,t){Ve[e]={input:[],F:[],V:t},Rn(e,$e)}var $e={open:function(e){var t=Ve[e.node.za];if(!t)throw new F(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,o){if(!e.s||!e.s.V.jb)throw new F(60);for(var s=0,l=0;l<o;l++){try{var f=e.s.V.jb(e.s)}catch{throw new F(29)}if(f===void 0&&s===0)throw new F(6);if(f==null)break;s++,t[r+l]=f}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o){if(!e.s||!e.s.V.Oa)throw new F(60);try{for(var s=0;s<o;s++)e.s.V.Oa(e.s,t[r+s])}catch{throw new F(29)}return o&&(e.node.timestamp=Date.now()),s}},wt={jb:function(){e:{if(!Me.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Me=Ne(e,!0)}e=Me.shift()}return e},Oa:function(e,t){t===null||t===10?(je(ie(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(je(ie(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},bt={Oa:function(e,t){t===null||t===10?(xe(ie(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(xe(ie(e.F,0)),e.F=[])}};function et(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var x={O:null,U(){return x.createNode(null,"/",16895,0)},createNode(e,t,r,o){if((r&61440)===24576||(r&61440)===4096)throw new F(63);return x.O||(x.O={dir:{node:{Y:x.l.Y,P:x.l.P,ka:x.l.ka,va:x.l.va,vb:x.l.vb,Bb:x.l.Bb,wb:x.l.wb,tb:x.l.tb,Ea:x.l.Ea},stream:{ba:x.m.ba}},file:{node:{Y:x.l.Y,P:x.l.P},stream:{ba:x.m.ba,read:x.m.read,write:x.m.write,pa:x.m.pa,mb:x.m.mb,ob:x.m.ob}},link:{node:{Y:x.l.Y,P:x.l.P,ma:x.l.ma},stream:{}},ab:{node:{Y:x.l.Y,P:x.l.P},stream:kr}}),r=Xn(e,t,r,o),(r.mode&61440)===16384?(r.l=x.O.dir.node,r.m=x.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=x.O.file.node,r.m=x.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=x.O.link.node,r.m=x.O.link.stream):(r.mode&61440)===8192&&(r.l=x.O.ab.node,r.m=x.O.ab.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Mn[44]},va(e,t,r,o){return x.createNode(e,t,r,o)},vb(e,t,r){if((e.mode&61440)===16384){try{var o=Zt(t,r)}catch{}if(o)for(var s in o.j)throw new F(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Bb(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var r=Zt(e,t),o;for(o in r.j)throw new F(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=x.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new F(28);return e.link}},m:{read(e,t,r,o,s){var l=e.node.j;if(s>=e.node.v)return 0;if(e=Math.min(e.node.v-s,o),8<e&&l.subarray)t.set(l.subarray(s,s+e),r);else for(o=0;o<e;o++)t[r+o]=l[s+o];return e},write(e,t,r,o,s,l){if(t.buffer===Ce.buffer&&(l=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(l)return e.j=t.subarray(r,r+o),e.v=o;if(e.v===0&&s===0)return e.j=t.slice(r,r+o),e.v=o;if(s+o<=e.v)return e.j.set(t.subarray(r,r+o),s),o}if(et(e,s+o),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+o),s);else for(l=0;l<o;l++)e.j[s+l]=t[r+l];return e.v=Math.max(e.v,s+o),o},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new F(28);return t},pa(e,t,r){et(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},mb(e,t,r,o,s){if((e.node.mode&61440)!==32768)throw new F(43);if(e=e.node.j,s&2||e.buffer!==Ce.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,gt(),t=void 0,!t)throw new F(48);Ce.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},ob(e,t,r,o){return x.m.write(e,t,0,o,r,!1),0}}};function ee(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var tt=null,$n={},Qt=[],Wr=1,Dt=null,Yn=!0,F=null,Mn={},Mt=(e,t={})=>{if(e=L(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Qa:0},t),8<t.Qa)throw new F(32);e=e.split("/").filter(f=>!!f);for(var r=tt,o="/",s=0;s<e.length;s++){var l=s===e.length-1;if(l&&t.parent)break;if(r=Zt(r,e[s]),o=h(o+"/"+e[s]),r.wa&&(!l||l&&t.hb)&&(r=r.wa.root),!l||t.gb){for(l=0;(r.mode&61440)===40960;)if(r=Ur(o),o=L(g(o),r),r=Mt(o,{Qa:t.Qa+1}).node,40<l++)throw new F(32)}}return{path:o,node:r}},zn=e=>{for(var t;;){if(e===e.parent)return e=e.U.nb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Hn=(e,t)=>{for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%Dt.length},Zt=(e,t)=>{var r;if(r=(r=qt(e,"x"))?r:e.l.ka?0:2)throw new F(r,e);for(r=Dt[Hn(e.id,t)];r;r=r.lc){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return e.l.ka(e,t)},Xn=(e,t,r,o)=>(e=new br(e,t,r,o),t=Hn(e.parent.id,e.name),e.lc=Dt[t],Dt[t]=e),Gn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},qt=(e,t)=>{if(Yn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Kn=(e,t)=>{try{return Zt(e,t),20}catch{}return qt(e,"wx")},Dr=()=>{for(var e=0;4096>=e;e++)if(!Qt[e])return e;throw new F(33)},_t=e=>{if(e=Qt[e],!e)throw new F(8);return e},Jn=(e,t=-1)=>(Ut||(Ut=function(){this.h={}},Ut.prototype={},Object.defineProperties(Ut.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new Ut,e),t==-1&&(t=Dr()),e.X=t,Qt[t]=e),kr={open:e=>{e.m=$n[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new F(70)}},Rn=(e,t)=>{$n[e]={m:t}},Qn=(e,t)=>{var r=t==="/",o=!t;if(r&&tt)throw new F(10);if(!r&&!o){var s=Mt(t,{hb:!1});if(t=s.path,s=s.node,s.wa)throw new F(10);if((s.mode&61440)!==16384)throw new F(54)}t={type:e,Qc:{},nb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?tt=e:s&&(s.wa=t,s.U&&s.U.kc.push(t))},Je=(e,t,r)=>{var o=Mt(e,{parent:!0}).node;if(e=b(e),!e||e==="."||e==="..")throw new F(28);var s=Kn(o,e);if(s)throw new F(s);if(!o.l.va)throw new F(63);return o.l.va(o,e,t,r)},en=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),Je(e,t|8192,r)},In=(e,t)=>{if(!L(e))throw new F(44);var r=Mt(t,{parent:!0}).node;if(!r)throw new F(44);t=b(t);var o=Kn(r,t);if(o)throw new F(o);if(!r.l.Ea)throw new F(63);r.l.Ea(r,t,e)},Ur=e=>{if(e=Mt(e).node,!e)throw new F(44);if(!e.l.ma)throw new F(28);return L(zn(e.parent),e.l.ma(e))},tn=(e,t,r)=>{if(e==="")throw new F(44);if(typeof t=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof o>"u")throw Error(`Unknown file open mode: ${t}`);t=o}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var s=e;else{e=h(e);try{s=Mt(e,{gb:!(t&131072)}).node}catch{}}if(o=!1,t&64)if(s){if(t&128)throw new F(20)}else s=Je(e,r,0),o=!0;if(!s)throw new F(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&(s.mode&61440)!==16384)throw new F(54);if(!o&&(r=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(Gn(t)!=="r"||t&512)?31:qt(s,Gn(t)):44))throw new F(r);if(t&512&&!o){if(r=s,r=typeof r=="string"?Mt(r,{gb:!0}).node:r,!r.l.P)throw new F(63);if((r.mode&61440)===16384)throw new F(31);if((r.mode&61440)!==32768)throw new F(28);if(o=qt(r,"w"))throw new F(o);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,s=Jn({node:s,path:zn(s),flags:t,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!c.logReadFiles||t&1||(nn||(nn={}),e in nn||(nn[e]=1)),s},Zn=(e,t,r)=>{if(e.X===null)throw new F(8);if(!e.seekable||!e.m.ba)throw new F(70);if(r!=0&&r!=1&&r!=2)throw new F(28);e.position=e.m.ba(e,t,r),e.zc=[]},qn=()=>{F||(F=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},F.prototype=Error(),F.prototype.constructor=F,[44].forEach(e=>{Mn[e]=new F(e),Mn[e].stack="<generic error, no stack>"}))},er,kt=(e,t,r)=>{e=h("/dev/"+e);var o=ee(!!t,!!r);En||(En=64);var s=En++<<8|0;Rn(s,{open:l=>{l.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(l,f,v,m)=>{for(var p=0,C=0;C<m;C++){try{var M=t()}catch{throw new F(29)}if(M===void 0&&p===0)throw new F(6);if(M==null)break;p++,f[v+C]=M}return p&&(l.node.timestamp=Date.now()),p},write:(l,f,v,m)=>{for(var p=0;p<m;p++)try{r(f[v+p])}catch{throw new F(29)}return m&&(l.node.timestamp=Date.now()),p}}),en(e,o,s)},En,Rt={},Ut,nn,Bt=void 0;function ct(){return Bt+=4,G[Bt-4>>2]}function tr(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function rn(e,t){return e=tr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function nr(){this.M=[void 0],this.ib=[]}var Ye=new nr,jt=void 0;function V(e){throw new jt(e)}var Qe=e=>(e||V("Cannot use deleted val. handle = "+e),Ye.get(e).value),Ze=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ye.pa({ub:1,value:e})}};function rr(e){var t=Error,r=rn(e,function(o){this.name=e,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var ir=void 0,or=void 0;function we(e){for(var t="";ge[e];)t+=or[ge[e++]];return t}var Nt=[];function Pn(){for(;Nt.length;){var e=Nt.pop();e.g.fa=!1,e.delete()}}var $t=void 0,ft={};function Fn(e,t){for(t===void 0&&V("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var It={};function ar(e){e=Er(e);var t=we(e);return pt(e),t}function Yt(e,t){var r=It[e];return r===void 0&&V(t+" has unknown type "+ar(e)),r}function on(){}var Ln=!1;function sr(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function ur(e,t,r){return t===r?e:r.A===void 0?null:(e=ur(e,t,r.A),e===null?null:r.Pb(e))}var lr={};function Br(e,t){return t=Fn(e,t),ft[t]}var cr=void 0;function an(e){throw new cr(e)}function sn(e,t){return t.u&&t.o||an("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&an("Both smartPtrType and smartPtr must be specified"),t.count={value:1},xt(Object.create(e,{g:{value:t}}))}function xt(e){return typeof FinalizationRegistry>"u"?(xt=t=>t,e):(Ln=new FinalizationRegistry(t=>{sr(t.g)}),xt=t=>{var r=t.g;return r.G&&Ln.register(t,{g:r},t),t},on=t=>{Ln.unregister(t)},xt(e))}var un={};function zt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ht(e){return this.fromWireType(G[e>>2])}var St={},ln={};function Ue(e,t,r){function o(v){v=r(v),v.length!==e.length&&an("Mismatched type converter count");for(var m=0;m<e.length;++m)nt(e[m],v[m])}e.forEach(function(v){ln[v]=t});var s=Array(t.length),l=[],f=0;t.forEach((v,m)=>{It.hasOwnProperty(v)?s[m]=It[v]:(l.push(v),St.hasOwnProperty(v)||(St[v]=[]),St[v].push(()=>{s[m]=It[v],++f,f===l.length&&o(s)}))}),l.length===0&&o(s)}function cn(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Nr(e,t,r={}){var o=t.name;if(e||V(`type "${o}" must have a positive integer typeid pointer`),It.hasOwnProperty(e)){if(r.$b)return;V(`Cannot register type '${o}' twice`)}It[e]=t,delete ln[e],St.hasOwnProperty(e)&&(t=St[e],delete St[e],t.forEach(s=>s()))}function nt(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Nr(e,t,r)}function Tn(e){V(e.g.u.i.name+" instance already deleted")}function At(){}function On(e,t,r){if(e[t].B===void 0){var o=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||V(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[o.ea]=o}}function jn(e,t,r){c.hasOwnProperty(e)?((r===void 0||c[e].B!==void 0&&c[e].B[r]!==void 0)&&V(`Cannot register public name '${e}' twice`),On(c,e,e),c.hasOwnProperty(r)&&V(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[e].B[r]=t):(c[e]=t,r!==void 0&&(c[e].Pc=r))}function $r(e,t,r,o,s,l,f,v){this.name=e,this.constructor=t,this.N=r,this.W=o,this.A=s,this.Ub=l,this.na=f,this.Pb=v,this.rb=[]}function fn(e,t,r){for(;t!==r;)t.na||V(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Yr(e,t){return t===null?(this.Na&&V(`null is not a valid ${this.name}`),0):(t.g||V(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),fn(t.g.o,t.g.u.i,this.i))}function zr(e,t){if(t===null){if(this.Na&&V(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||V(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&V(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=fn(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&V("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:V(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var o=t.clone();r=this.oc(r,Ze(function(){o.delete()})),e!==null&&e.push(this.W,r)}break;default:V("Unsupporting sharing policy")}return r}function Hr(e,t){return t===null?(this.Na&&V(`null is not a valid ${this.name}`),0):(t.g||V(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&V(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),fn(t.g.o,t.g.u.i,this.i))}function dt(e,t,r,o){this.name=e,this.i=t,this.Na=r,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=zr:(this.toWireType=o?Yr:Hr,this.K=null)}function fr(e,t,r){c.hasOwnProperty(e)||an("Replacing nonexistant public symbol"),c[e].B!==void 0&&r!==void 0?c[e].B[r]=t:(c[e]=t,c[e].ea=r)}var dn=[],dr=e=>{var t=dn[e];return t||(e>=dn.length&&(dn.length=e+1),dn[e]=t=be.get(e)),t},Xr=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var o=c["dynCall_"+e];o=r&&r.length?o.apply(null,[t].concat(r)):o.call(null,t)}else o=dr(t).apply(null,r);return o}};function Te(e,t){e=we(e);var r=e.includes("j")?Xr(e,t):dr(t);return typeof r!="function"&&V(`unknown function pointer with signature ${e}: ${t}`),r}var hr=void 0;function ht(e,t){function r(l){s[l]||It[l]||(ln[l]?ln[l].forEach(r):(o.push(l),s[l]=!0))}var o=[],s={};throw t.forEach(r),new hr(`${e}: `+o.map(ar).join([", "]))}function hn(e,t,r,o,s){var l=t.length;2>l&&V("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=t[1]!==null&&r!==null,v=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){v=!0;break}var m=t[0].name!=="void",p=l-2,C=Array(p),M=[],P=[];return function(){if(arguments.length!==p&&V(`function ${e} called with ${arguments.length} arguments, expected ${p} args!`),P.length=0,M.length=f?2:1,M[0]=s,f){var d=t[1].toWireType(P,this);M[1]=d}for(var A=0;A<p;++A)C[A]=t[A+2].toWireType(P,arguments[A]),M.push(C[A]);if(A=o.apply(null,M),v)zt(P);else for(var _=f?1:2;_<t.length;_++){var W=_===1?d:C[_-2];t[_].K!==null&&t[_].K(W)}return d=m?t[0].fromWireType(A):void 0,d}}function pn(e,t){for(var r=[],o=0;o<e;o++)r.push(ne[t+4*o>>2]);return r}function pr(e,t,r){return e instanceof Object||V(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||V(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||V(`cannot call emscripten binding method ${r} on deleted object`),fn(e.g.o,e.g.u.i,t.i)}function xn(e){e>=Ye.h&&--Ye.get(e).ub===0&&Ye.Zb(e)}function Gr(e,t,r){switch(t){case 0:return function(o){return this.fromWireType((r?Ce:ge)[o])};case 1:return function(o){return this.fromWireType((r?Fe:He)[o>>1])};case 2:return function(o){return this.fromWireType((r?G:ne)[o>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Sn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function Kr(e,t){switch(t){case 2:return function(r){return this.fromWireType(Xe[r>>2])};case 3:return function(r){return this.fromWireType(fe[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Jr(e,t,r){switch(t){case 0:return r?function(o){return Ce[o]}:function(o){return ge[o]};case 1:return r?function(o){return Fe[o>>1]}:function(o){return He[o>>1]};case 2:return r?function(o){return G[o>>2]}:function(o){return ne[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Qr=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&He[r];)++r;if(r<<=1,32<r-e&&vr)return vr.decode(ge.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var s=Fe[e+2*o>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},Zr=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var s=0;s<r;++s)Fe[t>>1]=e.charCodeAt(s),t+=2;return Fe[t>>1]=0,t-o},qr=e=>2*e.length,ei=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var s=G[e+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},ti=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&57343>=l){var f=e.charCodeAt(++s);l=65536+((l&1023)<<10)|f&1023}if(G[t>>2]=l,t+=4,t+4>r)break}return G[t>>2]=0,t-o},ni=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4}return t},ri={};function vn(e){var t=ri[e];return t===void 0?we(e):t}var mn=[];function ii(e){var t=mn.length;return mn.push(e),t}function oi(e,t){for(var r=Array(e),o=0;o<e;++o)r[o]=Yt(ne[t+4*o>>2],"parameter "+o);return r}var mr=[],Vn=[],Wn={},gr=()=>{if(!Dn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"},t;for(t in Wn)Wn[t]===void 0?delete e[t]:e[t]=Wn[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Dn=r}return Dn},Dn,gn=e=>e%4===0&&(e%100!==0||e%400===0),yr=[31,29,31,30,31,30,31,31,30,31,30,31],wr=[31,28,31,30,31,30,31,31,30,31,30,31],ai=(e,t,r,o)=>{function s(d,A,_){for(d=typeof d=="number"?d.toString():d||"";d.length<A;)d=_[0]+d;return d}function l(d,A){return s(d,A,"0")}function f(d,A){function _(B){return 0>B?-1:0<B?1:0}var W;return(W=_(d.getFullYear()-A.getFullYear()))===0&&(W=_(d.getMonth()-A.getMonth()))===0&&(W=_(d.getDate()-A.getDate())),W}function v(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function m(d){var A=d.ca;for(d=new Date(new Date(d.da+1900,0,1).getTime());0<A;){var _=d.getMonth(),W=(gn(d.getFullYear())?yr:wr)[_];if(A>W-d.getDate())A-=W-d.getDate()+1,d.setDate(1),11>_?d.setMonth(_+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+A);break}}return _=new Date(d.getFullYear()+1,0,4),A=v(new Date(d.getFullYear(),0,4)),_=v(_),0>=f(A,d)?0>=f(_,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}var p=G[o+40>>2];o={wc:G[o>>2],vc:G[o+4>>2],Fa:G[o+8>>2],Sa:G[o+12>>2],Ga:G[o+16>>2],da:G[o+20>>2],R:G[o+24>>2],ca:G[o+28>>2],Rc:G[o+32>>2],uc:G[o+36>>2],xc:p&&p?ie(ge,p):""},r=r?ie(ge,r):"",p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var C in p)r=r.replace(new RegExp(C,"g"),p[C]);var M="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),P="January February March April May June July August September October November December".split(" ");p={"%a":d=>M[d.R].substring(0,3),"%A":d=>M[d.R],"%b":d=>P[d.Ga].substring(0,3),"%B":d=>P[d.Ga],"%C":d=>l((d.da+1900)/100|0,2),"%d":d=>l(d.Sa,2),"%e":d=>s(d.Sa,2," "),"%g":d=>m(d).toString().substring(2),"%G":d=>m(d),"%H":d=>l(d.Fa,2),"%I":d=>(d=d.Fa,d==0?d=12:12<d&&(d-=12),l(d,2)),"%j":d=>{for(var A=0,_=0;_<=d.Ga-1;A+=(gn(d.da+1900)?yr:wr)[_++]);return l(d.Sa+A,3)},"%m":d=>l(d.Ga+1,2),"%M":d=>l(d.vc,2),"%n":()=>`
`,"%p":d=>0<=d.Fa&&12>d.Fa?"AM":"PM","%S":d=>l(d.wc,2),"%t":()=>"	","%u":d=>d.R||7,"%U":d=>l(Math.floor((d.ca+7-d.R)/7),2),"%V":d=>{var A=Math.floor((d.ca+7-(d.R+6)%7)/7);if(2>=(d.R+371-d.ca-2)%7&&A++,A)A==53&&(_=(d.R+371-d.ca)%7,_==4||_==3&&gn(d.da)||(A=1));else{A=52;var _=(d.R+7-d.ca-1)%7;(_==4||_==5&&gn(d.da%400-1))&&A++}return l(A,2)},"%w":d=>d.R,"%W":d=>l(Math.floor((d.ca+7-(d.R+6)%7)/7),2),"%y":d=>(d.da+1900).toString().substring(2),"%Y":d=>d.da+1900,"%z":d=>{d=d.uc;var A=0<=d;return d=Math.abs(d)/60,(A?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(C in p)r.includes(C)&&(r=r.replace(new RegExp(C,"g"),p[C](o)));return r=r.replace(/\0\0/g,"%"),C=Ne(r,!1),C.length>t?0:(Ce.set(C,e),C.length-1)};function br(e,t,r,o){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=Wr++,this.name=t,this.mode=r,this.l={},this.m={},this.za=o}Object.defineProperties(br.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),qn(),Dt=Array(4096),Qn(x,"/"),Je("/tmp",16895,0),Je("/home",16895,0),Je("/home/web_user",16895,0),(()=>{Je("/dev",16895,0),Rn(259,{read:()=>0,write:(o,s,l,f)=>f}),en("/dev/null",259),We(1280,wt),We(1536,bt),en("/dev/tty",1280),en("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=S(e).byteLength),e[--t]);kt("random",r),kt("urandom",r),Je("/dev/shm",16895,0),Je("/dev/shm/tmp",16895,0)})(),(()=>{Je("/proc",16895,0);var e=Je("/proc/self",16895,0);Je("/proc/self/fd",16895,0),Qn({U:()=>{var t=Xn(e,"fd",16895,73);return t.l={ka:(r,o)=>{var s=_t(+o);return r={parent:null,U:{nb:"fake"},l:{ma:()=>s.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(nr.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.ib.push(e)}}),jt=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ye.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Ye.h=Ye.M.length,c.count_emval_handles=function(){for(var e=0,t=Ye.h;t<Ye.M.length;++t)Ye.M[t]!==void 0&&++e;return e},ir=c.PureVirtualError=rr("PureVirtualError");for(var _r=Array(256),yn=0;256>yn;++yn)_r[yn]=String.fromCharCode(yn);or=_r,c.getInheritedInstanceCount=function(){return Object.keys(ft).length},c.getLiveInheritedInstances=function(){var e=[],t;for(t in ft)ft.hasOwnProperty(t)&&e.push(ft[t]);return e},c.flushPendingDeletes=Pn,c.setDelayFunction=function(e){$t=e,Nt.length&&$t&&$t(Pn)},cr=c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},At.prototype.isAliasOf=function(e){if(!(this instanceof At&&e instanceof At))return!1;var t=this.g.u.i,r=this.g.o,o=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;o.A;)e=o.na(e),o=o.A;return t===o&&r===e},At.prototype.clone=function(){if(this.g.o||Tn(this),this.g.ia)return this.g.count.value+=1,this;var e=xt,t=Object,r=t.create,o=Object.getPrototypeOf(this),s=this.g;return e=e(r.call(t,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),e.g.count.value+=1,e.g.fa=!1,e},At.prototype.delete=function(){this.g.o||Tn(this),this.g.fa&&!this.g.ia&&V("Object already scheduled for deletion"),on(this),sr(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},At.prototype.isDeleted=function(){return!this.g.o},At.prototype.deleteLater=function(){return this.g.o||Tn(this),this.g.fa&&!this.g.ia&&V("Object already scheduled for deletion"),Nt.push(this),Nt.length===1&&$t&&$t(Pn),this.g.fa=!0,this},dt.prototype.Vb=function(e){return this.sb&&(e=this.sb(e)),e},dt.prototype.bb=function(e){this.W&&this.W(e)},dt.prototype.argPackAdvance=8,dt.prototype.readValueFromPointer=Ht,dt.prototype.deleteObject=function(e){e!==null&&e.delete()},dt.prototype.fromWireType=function(e){function t(){return this.ua?sn(this.i.N,{u:this.nc,o:r,L:this,G:e}):sn(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.bb(e),null;var o=Br(this.i,r);if(o!==void 0)return o.g.count.value===0?(o.g.o=r,o.g.G=e,o.clone()):(o=o.clone(),this.bb(e),o);if(o=this.i.Ub(r),o=lr[o],!o)return t.call(this);o=this.ta?o.Kb:o.pointerType;var s=ur(r,this.i,o.i);return s===null?t.call(this):this.ua?sn(o.i.N,{u:o,o:s,L:this,G:e}):sn(o.i.N,{u:o,o:s})},hr=c.UnboundTypeError=rr("UnboundTypeError");var Ar={__syscall_fcntl64:function(e,t,r){Bt=r;try{var o=_t(e);switch(t){case 0:var s=ct();return 0>s?-28:Jn(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=ct(),o.flags|=s,0;case 5:return s=ct(),Fe[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return G[Cr()>>2]=28,-1;default:return-28}}catch(l){if(typeof Rt>"u"||l.name!=="ErrnoError")throw l;return-l.aa}},__syscall_ioctl:function(e,t,r){Bt=r;try{var o=_t(e);switch(t){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=ct();G[s>>2]=25856,G[s+4>>2]=5,G[s+8>>2]=191,G[s+12>>2]=35387;for(var l=0;32>l;l++)Ce[s+l+17>>0]=t[l]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=ct(),t=[],l=0;32>l;l++)t.push(Ce[s+l+17>>0]);return 0;case 21519:return o.s?(s=ct(),G[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=ct(),!o.m.ac)throw new F(59);return o.m.ac(o,t,s);case 21523:return o.s?(o.s.V.dc&&(l=[24,80],s=ct(),Fe[s>>1]=l[0],Fe[s+2>>1]=l[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(f){if(typeof Rt>"u"||f.name!=="ErrnoError")throw f;return-f.aa}},__syscall_openat:function(e,t,r,o){Bt=o;try{t=t?ie(ge,t):"";var s=t;if(s.charAt(0)==="/")t=s;else{var l=e===-100?"/":_t(e).path;if(s.length==0)throw new F(44);t=h(l+"/"+s)}var f=o?ct():0;return tn(t,r,f).X}catch(v){if(typeof Rt>"u"||v.name!=="ErrnoError")throw v;return-v.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=we(e),t=Yt(t,"wrapper"),r=Qe(r);var o=[].slice,s=t.i,l=s.N,f=s.A.N,v=s.A.constructor;e=rn(e,function(){s.A.rb.forEach((function(p){if(this[p]===f[p])throw new ir(`Pure virtual function ${p} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:l}),this.__construct.apply(this,o.call(arguments))}),l.__construct=function(){this===l&&V("Pass correct 'this' to __construct");var p=v.implement.apply(void 0,[this].concat(o.call(arguments)));on(p);var C=p.g;p.notifyOnDestruction(),C.ia=!0,Object.defineProperties(this,{g:{value:C}}),xt(this),p=C.o,p=Fn(s,p),ft.hasOwnProperty(p)?V(`Tried to register registered instance: ${p}`):ft[p]=this},l.__destruct=function(){this===l&&V("Pass correct 'this' to __destruct"),on(this);var p=this.g.o;p=Fn(s,p),ft.hasOwnProperty(p)?delete ft[p]:V(`Tried to unregister unregistered instance: ${p}`)},e.prototype=Object.create(l);for(var m in r)e.prototype[m]=r[m];return Ze(e)},_embind_finalize_value_object:function(e){var t=un[e];delete un[e];var r=t.Pa,o=t.W,s=t.fb,l=s.map(f=>f.Yb).concat(s.map(f=>f.rc));Ue([e],l,f=>{var v={};return s.forEach((m,p)=>{var C=f[p],M=m.Wb,P=m.Xb,d=f[p+s.length],A=m.qc,_=m.sc;v[m.Sb]={read:W=>C.fromWireType(M(P,W)),write:(W,B)=>{var R=[];A(_,W,d.toWireType(R,B)),zt(R)}}}),[{name:t.name,fromWireType:function(m){var p={},C;for(C in v)p[C]=v[C].read(m);return o(m),p},toWireType:function(m,p){for(var C in v)if(!(C in p))throw new TypeError(`Missing field: "${C}"`);var M=r();for(C in v)v[C].write(M,p[C]);return m!==null&&m.push(o,M),M},argPackAdvance:8,readValueFromPointer:Ht,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,o,s){var l=cn(r);t=we(t),nt(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,v){return v?o:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var v=Ce;else if(r===2)v=Fe;else if(r===4)v=G;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(v[f>>l])},K:null})},_embind_register_class:function(e,t,r,o,s,l,f,v,m,p,C,M,P){C=we(C),l=Te(s,l),v&&(v=Te(f,v)),p&&(p=Te(m,p)),P=Te(M,P);var d=tr(C);jn(d,function(){ht(`Cannot construct ${C} due to unbound types`,[o])}),Ue([e,t,r],o?[o]:[],function(A){if(A=A[0],o)var _=A.i,W=_.N;else W=At.prototype;A=rn(d,function(){if(Object.getPrototypeOf(this)!==B)throw new jt("Use 'new' to construct "+C);if(R.$===void 0)throw new jt(C+" has no accessible constructor");var Le=R.$[arguments.length];if(Le===void 0)throw new jt(`Tried to invoke ctor of ${C} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(R.$).toString()}) parameters instead!`);return Le.apply(this,arguments)});var B=Object.create(W,{constructor:{value:A}});A.prototype=B;var R=new $r(C,A,B,P,_,l,v,p);R.A&&(R.A.oa===void 0&&(R.A.oa=[]),R.A.oa.push(R)),_=new dt(C,R,!0,!1),W=new dt(C+"*",R,!1,!1);var ve=new dt(C+" const*",R,!1,!0);return lr[e]={pointerType:W,Kb:ve},fr(d,A),[_,W,ve]})},_embind_register_class_class_function:function(e,t,r,o,s,l,f){var v=pn(r,o);t=we(t),l=Te(s,l),Ue([],[e],function(m){function p(){ht(`Cannot call ${C} due to unbound types`,v)}m=m[0];var C=`${m.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var M=m.i.constructor;return M[t]===void 0?(p.ea=r-1,M[t]=p):(On(M,t,C),M[t].B[r-1]=p),Ue([],v,function(P){if(P=hn(C,[P[0],null].concat(P.slice(1)),null,l,f),M[t].B===void 0?(P.ea=r-1,M[t]=P):M[t].B[r-1]=P,m.i.oa)for(const d of m.i.oa)d.constructor.hasOwnProperty(t)||(d.constructor[t]=P);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,o,s,l,f,v){t=we(t),l=Te(s,l),Ue([],[e],function(m){m=m[0];var p=`${m.name}.${t}`,C={get(){ht(`Cannot access ${p} due to unbound types`,[r])},enumerable:!0,configurable:!0};return C.set=v?()=>{ht(`Cannot access ${p} due to unbound types`,[r])}:()=>{V(`${p} is a read-only property`)},Object.defineProperty(m.i.constructor,t,C),Ue([],[r],function(M){M=M[0];var P={get(){return M.fromWireType(l(o))},enumerable:!0};return v&&(v=Te(f,v),P.set=d=>{var A=[];v(o,M.toWireType(A,d)),zt(A)}),Object.defineProperty(m.i.constructor,t,P),[]}),[]})},_embind_register_class_constructor:function(e,t,r,o,s,l){var f=pn(t,r);s=Te(o,s),Ue([],[e],function(v){v=v[0];var m=`constructor ${v.name}`;if(v.i.$===void 0&&(v.i.$=[]),v.i.$[t-1]!==void 0)throw new jt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${v.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return v.i.$[t-1]=()=>{ht(`Cannot construct ${v.name} due to unbound types`,f)},Ue([],f,function(p){return p.splice(1,0,null),v.i.$[t-1]=hn(m,p,null,s,l),[]}),[]})},_embind_register_class_function:function(e,t,r,o,s,l,f,v){var m=pn(r,o);t=we(t),l=Te(s,l),Ue([],[e],function(p){function C(){ht(`Cannot call ${M} due to unbound types`,m)}p=p[0];var M=`${p.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),v&&p.i.rb.push(t);var P=p.i.N,d=P[t];return d===void 0||d.B===void 0&&d.className!==p.name&&d.ea===r-2?(C.ea=r-2,C.className=p.name,P[t]=C):(On(P,t,M),P[t].B[r-2]=C),Ue([],m,function(A){return A=hn(M,A,p,l,f),P[t].B===void 0?(A.ea=r-2,P[t]=A):P[t].B[r-2]=A,[]}),[]})},_embind_register_class_property:function(e,t,r,o,s,l,f,v,m,p){t=we(t),s=Te(o,s),Ue([],[e],function(C){C=C[0];var M=`${C.name}.${t}`,P={get(){ht(`Cannot access ${M} due to unbound types`,[r,f])},enumerable:!0,configurable:!0};return P.set=m?()=>{ht(`Cannot access ${M} due to unbound types`,[r,f])}:()=>{V(M+" is a read-only property")},Object.defineProperty(C.i.N,t,P),Ue([],m?[r,f]:[r],function(d){var A=d[0],_={get(){var B=pr(this,C,M+" getter");return A.fromWireType(s(l,B))},enumerable:!0};if(m){m=Te(v,m);var W=d[1];_.set=function(B){var R=pr(this,C,M+" setter"),ve=[];m(p,R,W.toWireType(ve,B)),zt(ve)}}return Object.defineProperty(C.i.N,t,_),[]}),[]})},_embind_register_emval:function(e,t){t=we(t),nt(e,{name:t,fromWireType:function(r){var o=Qe(r);return xn(r),o},toWireType:function(r,o){return Ze(o)},argPackAdvance:8,readValueFromPointer:Ht,K:null})},_embind_register_enum:function(e,t,r,o){function s(){}r=cn(r),t=we(t),s.values={},nt(e,{name:t,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:function(l,f){return f.value},argPackAdvance:8,readValueFromPointer:Gr(t,r,o),K:null}),jn(t,s)},_embind_register_enum_value:function(e,t,r){var o=Yt(e,"enum");t=we(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:rn(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o},_embind_register_float:function(e,t,r){r=cn(r),t=we(t),nt(e,{name:t,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:Kr(t,r),K:null})},_embind_register_function:function(e,t,r,o,s,l){var f=pn(t,r);e=we(e),s=Te(o,s),jn(e,function(){ht(`Cannot call ${e} due to unbound types`,f)},t-1),Ue([],f,function(v){return fr(e,hn(e,[v[0],null].concat(v.slice(1)),null,s,l),t-1),[]})},_embind_register_integer:function(e,t,r,o,s){t=we(t),s===-1&&(s=4294967295),s=cn(r);var l=v=>v;if(o===0){var f=32-8*r;l=v=>v<<f>>>f}r=t.includes("unsigned")?function(v,m){return m>>>0}:function(v,m){return m},nt(e,{name:t,fromWireType:l,toWireType:r,argPackAdvance:8,readValueFromPointer:Jr(t,s,o!==0),K:null})},_embind_register_memory_view:function(e,t,r){function o(l){l>>=2;var f=ne;return new s(f.buffer,f[l+1],f[l])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=we(r),nt(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(e,t){t=we(t);var r=t==="std::string";nt(e,{name:t,fromWireType:function(o){var s=ne[o>>2],l=o+4;if(r)for(var f=l,v=0;v<=s;++v){var m=l+v;if(v==s||ge[m]==0){if(f=f?ie(ge,f,m-f):"",p===void 0)var p=f;else p+="\0",p+=f;f=m+1}}else{for(p=Array(s),v=0;v<s;++v)p[v]=String.fromCharCode(ge[l+v]);p=p.join("")}return pt(o),p},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||V("Cannot pass non-string to std::string");var f=r&&l?me(s):s.length,v=kn(4+f+1),m=v+4;if(ne[v>>2]=f,r&&l)Ke(s,ge,m,f+1);else if(l)for(l=0;l<f;++l){var p=s.charCodeAt(l);255<p&&(pt(m),V("String has UTF-16 code units that do not fit in 8 bits")),ge[m+l]=p}else for(l=0;l<f;++l)ge[m+l]=s[l];return o!==null&&o.push(pt,v),v},argPackAdvance:8,readValueFromPointer:Ht,K:function(o){pt(o)}})},_embind_register_std_wstring:function(e,t,r){if(r=we(r),t===2)var o=Qr,s=Zr,l=qr,f=()=>He,v=1;else t===4&&(o=ei,s=ti,l=ni,f=()=>ne,v=2);nt(e,{name:r,fromWireType:function(m){for(var p=ne[m>>2],C=f(),M,P=m+4,d=0;d<=p;++d){var A=m+4+d*t;(d==p||C[A>>v]==0)&&(P=o(P,A-P),M===void 0?M=P:(M+="\0",M+=P),P=A+t)}return pt(m),M},toWireType:function(m,p){typeof p!="string"&&V(`Cannot pass non-string to C++ string type ${r}`);var C=l(p),M=kn(4+C+t);return ne[M>>2]=C>>v,s(p,M+4,C+t),m!==null&&m.push(pt,M),M},argPackAdvance:8,readValueFromPointer:Ht,K:function(m){pt(m)}})},_embind_register_value_object:function(e,t,r,o,s,l){un[e]={name:we(t),Pa:Te(r,o),W:Te(s,l),fb:[]}},_embind_register_value_object_field:function(e,t,r,o,s,l,f,v,m,p){un[e].fb.push({Sb:we(t),Yb:r,Wb:Te(o,s),Xb:l,rc:f,qc:Te(v,m),sc:p})},_embind_register_void:function(e,t){t=we(t),nt(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=Qe(e),t=Yt(t,"emval::as");var o=[],s=Ze(o);return ne[r>>2]=s,t.toWireType(o,e)},_emval_call_method:function(e,t,r,o,s){e=mn[e],t=Qe(t),r=vn(r);var l=[];return ne[o>>2]=Ze(l),e(t,r,l,s)},_emval_call_void_method:function(e,t,r,o){e=mn[e],t=Qe(t),r=vn(r),e(t,r,null,o)},_emval_decref:xn,_emval_get_method_caller:function(e,t){var r=oi(e,t),o=r[0];t=o.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=mr[t];if(s!==void 0)return s;var l=Array(e-1);return s=ii((f,v,m,p)=>{for(var C=0,M=0;M<e-1;++M)l[M]=r[M+1].readValueFromPointer(p+C),C+=r[M+1].argPackAdvance;for(f=f[v].apply(f,l),M=0;M<e-1;++M)r[M+1].Nb&&r[M+1].Nb(l[M]);if(!o.fc)return o.toWireType(m,f)}),mr[t]=s},_emval_get_module_property:function(e){return e=vn(e),Ze(c[e])},_emval_get_property:function(e,t){return e=Qe(e),t=Qe(t),Ze(e[t])},_emval_incref:function(e){4<e&&(Ye.get(e).ub+=1)},_emval_new_array:function(){return Ze([])},_emval_new_cstring:function(e){return Ze(vn(e))},_emval_new_object:function(){return Ze({})},_emval_run_destructors:function(e){var t=Qe(e);zt(t),xn(e)},_emval_set_property:function(e,t,r){e=Qe(e),t=Qe(t),r=Qe(r),e[t]=r},_emval_take_value:function(e,t){return e=Yt(e,"_emval_take_value"),e=e.readValueFromPointer(t),Ze(e)},abort:()=>{gt("")},emscripten_asm_const_int:(e,t,r)=>{Vn.length=0;var o;for(r>>=2;o=ge[t++];)r+=o!=105&r,Vn.push(o==105?G[r]:fe[r++>>1]),++r;return n[e].apply(null,Vn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>ge.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=ge.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var s=Math;o=Math.max(e,o);e:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-at.buffer.byteLength+65535>>>16;try{at.grow(s),De();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},environ_get:(e,t)=>{var r=0;return gr().forEach(function(o,s){var l=t+r;for(s=ne[e+4*s>>2]=l,l=0;l<o.length;++l)Ce[s++>>0]=o.charCodeAt(l);Ce[s>>0]=0,r+=o.length+1}),0},environ_sizes_get:(e,t)=>{var r=gr();ne[e>>2]=r.length;var o=0;return r.forEach(function(s){o+=s.length+1}),ne[t>>2]=o,0},fd_close:function(e){try{var t=_t(e);if(t.X===null)throw new F(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{Qt[t.X]=null}return t.X=null,0}catch(r){if(typeof Rt>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,o){try{e:{var s=_t(e);e=t;for(var l,f=t=0;f<r;f++){var v=ne[e>>2],m=ne[e+4>>2];e+=8;var p=s,C=v,M=m,P=l,d=Ce;if(0>M||0>P)throw new F(28);if(p.X===null)throw new F(8);if((p.flags&2097155)===1)throw new F(8);if((p.node.mode&61440)===16384)throw new F(31);if(!p.m.read)throw new F(28);var A=typeof P<"u";if(!A)P=p.position;else if(!p.seekable)throw new F(70);var _=p.m.read(p,d,C,M,P);A||(p.position+=_);var W=_;if(0>W){var B=-1;break e}if(t+=W,W<m)break;typeof l<"u"&&(l+=W)}B=t}return ne[o>>2]=B,0}catch(R){if(typeof Rt>"u"||R.name!=="ErrnoError")throw R;return R.aa}},fd_seek:function(e,t,r,o,s){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var l=_t(e);return Zn(l,t,o),a=[l.position>>>0,(yt=l.position,1<=+Math.abs(yt)?0<yt?+Math.floor(yt/4294967296)>>>0:~~+Math.ceil((yt-+(~~yt>>>0))/4294967296)>>>0:0)],G[s>>2]=a[0],G[s+4>>2]=a[1],l.Ma&&t===0&&o===0&&(l.Ma=null),0}catch(f){if(typeof Rt>"u"||f.name!=="ErrnoError")throw f;return f.aa}},fd_write:function(e,t,r,o){try{e:{var s=_t(e);e=t;for(var l,f=t=0;f<r;f++){var v=ne[e>>2],m=ne[e+4>>2];e+=8;var p=s,C=v,M=m,P=l,d=Ce;if(0>M||0>P)throw new F(28);if(p.X===null)throw new F(8);if(!(p.flags&2097155))throw new F(8);if((p.node.mode&61440)===16384)throw new F(31);if(!p.m.write)throw new F(28);p.seekable&&p.flags&1024&&Zn(p,0,2);var A=typeof P<"u";if(!A)P=p.position;else if(!p.seekable)throw new F(70);var _=p.m.write(p,d,C,M,P,void 0);A||(p.position+=_);var W=_;if(0>W){var B=-1;break e}t+=W,typeof l<"u"&&(l+=W)}B=t}return ne[o>>2]=B,0}catch(R){if(typeof Rt>"u"||R.name!=="ErrnoError")throw R;return R.aa}},strftime_l:(e,t,r,o)=>ai(e,t,r,o)};(function(){function e(r){if(q=r=r.exports,at=q.memory,De(),be=q.__indirect_function_table,mt.unshift(q.__wasm_call_ctors),Se--,c.monitorRunDependencies&&c.monitorRunDependencies(Se),Se==0&&Ge){var o=Ge;Ge=null,o()}return r}var t={env:Ar,wasi_snapshot_preview1:Ar};if(Se++,c.monitorRunDependencies&&c.monitorRunDependencies(Se),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(r){xe("Module.instantiateWasm callback failed with error: "+r),se(r)}return Cn(t,function(r){e(r.instance)}).catch(se),{}})();var pt=e=>(pt=q.free)(e),kn=e=>(kn=q.malloc)(e),Cr=()=>(Cr=q.__errno_location)(),Mr=c._ma_device__on_notification_unlocked=e=>(Mr=c._ma_device__on_notification_unlocked=q.ma_device__on_notification_unlocked)(e);c._ma_malloc_emscripten=(e,t)=>(c._ma_malloc_emscripten=q.ma_malloc_emscripten)(e,t),c._ma_free_emscripten=(e,t)=>(c._ma_free_emscripten=q.ma_free_emscripten)(e,t);var Rr=c._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(Rr=c._ma_device_process_pcm_frames_capture__webaudio=q.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),Ir=c._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(Ir=c._ma_device_process_pcm_frames_playback__webaudio=q.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),Er=e=>(Er=q.__getTypeName)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=q._embind_initialize_bindings)(),c.dynCall_iiji=(e,t,r,o,s)=>(c.dynCall_iiji=q.dynCall_iiji)(e,t,r,o,s),c.dynCall_jiji=(e,t,r,o,s)=>(c.dynCall_jiji=q.dynCall_jiji)(e,t,r,o,s),c.dynCall_iiiji=(e,t,r,o,s,l)=>(c.dynCall_iiiji=q.dynCall_iiiji)(e,t,r,o,s,l),c.dynCall_iij=(e,t,r,o)=>(c.dynCall_iij=q.dynCall_iij)(e,t,r,o),c.dynCall_jii=(e,t,r)=>(c.dynCall_jii=q.dynCall_jii)(e,t,r),c.dynCall_viijii=(e,t,r,o,s,l,f)=>(c.dynCall_viijii=q.dynCall_viijii)(e,t,r,o,s,l,f),c.dynCall_iiiiij=(e,t,r,o,s,l,f)=>(c.dynCall_iiiiij=q.dynCall_iiiiij)(e,t,r,o,s,l,f),c.dynCall_iiiiijj=(e,t,r,o,s,l,f,v,m)=>(c.dynCall_iiiiijj=q.dynCall_iiiiijj)(e,t,r,o,s,l,f,v,m),c.dynCall_iiiiiijj=(e,t,r,o,s,l,f,v,m,p)=>(c.dynCall_iiiiiijj=q.dynCall_iiiiiijj)(e,t,r,o,s,l,f,v,m,p);var wn;Ge=function e(){wn||Pr(),wn||(Ge=e)};function Pr(){function e(){if(!wn&&(wn=!0,c.calledRun=!0,!Ot)){if(c.noFSInit||er||(er=!0,qn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?kt("stdin",c.stdin):In("/dev/tty","/dev/stdin"),c.stdout?kt("stdout",null,c.stdout):In("/dev/tty","/dev/stdout"),c.stderr?kt("stderr",null,c.stderr):In("/dev/tty1","/dev/stderr"),tn("/dev/stdin",0),tn("/dev/stdout",1),tn("/dev/stderr",1)),Yn=!1,i(mt),he(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();ut.unshift(t)}i(ut)}}if(!(0<Se)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Ct();i(st),0<Se||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Pr(),O.ready}})();const $=te},le=>{le.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.30.3","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(le,k,U)=>{U.r(k),U.d(k,{Animation:()=>te.Animation});var te=U(4)},(le,k,U)=>{U.r(k),U.d(k,{Animation:()=>te});var te=function(){function $(Y,O,c,he){this.animation=Y,this.artboard=O,this.playing=he,this.loopCount=0,this.scrubTo=null,this.instance=new c.LinearAnimationInstance(Y,O)}return Object.defineProperty($.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"time",{get:function(){return this.instance.time},set:function(Y){this.instance.time=Y},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),$.prototype.advance=function(Y){this.scrubTo===null?this.instance.advance(Y):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},$.prototype.apply=function(Y){this.instance.apply(Y)},$.prototype.cleanup=function(){this.instance.delete()},$}()},(le,k,U)=>{U.r(k),U.d(k,{AudioAssetWrapper:()=>Y.AudioAssetWrapper,AudioWrapper:()=>Y.AudioWrapper,BLANK_URL:()=>$.BLANK_URL,CustomFileAssetLoaderWrapper:()=>Y.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>Y.FileAssetWrapper,Finalizable:()=>Y.Finalizable,FontAssetWrapper:()=>Y.FontAssetWrapper,FontWrapper:()=>Y.FontWrapper,ImageAssetWrapper:()=>Y.ImageAssetWrapper,ImageWrapper:()=>Y.ImageWrapper,finalizationRegistry:()=>Y.finalizationRegistry,registerTouchInteractions:()=>te.registerTouchInteractions,sanitizeUrl:()=>$.sanitizeUrl});var te=U(6),$=U(7),Y=U(8)},(le,k,U)=>{U.r(k),U.d(k,{registerTouchInteractions:()=>Y});var te=void 0,$=function(O,c){var he,se;return["touchstart","touchmove"].indexOf(O.type)>-1&&(!((he=O.touches)===null||he===void 0)&&he.length)?(c||O.preventDefault(),{clientX:O.touches[0].clientX,clientY:O.touches[0].clientY}):O.type==="touchend"&&(!((se=O.changedTouches)===null||se===void 0)&&se.length)?{clientX:O.changedTouches[0].clientX,clientY:O.changedTouches[0].clientY}:{clientX:O.clientX,clientY:O.clientY}},Y=function(O){var c=O.canvas,he=O.artboard,se=O.stateMachines,Ae=se===void 0?[]:se,ce=O.renderer,ue=O.rive,Ee=O.fit,de=O.alignment,z=O.isTouchScrollEnabled,y=z===void 0?!1:z,E=O.layoutScaleFactor,X=E===void 0?1:E;if(!c||!Ae.length||!ce||!ue||!he||typeof window>"u")return null;var re=null,ye=!1,j=function(je){if(ye&&je instanceof MouseEvent){je.type=="mouseup"&&(ye=!1);return}ye=y&&je.type==="touchend"&&re==="touchstart",re=je.type;var xe=je.currentTarget.getBoundingClientRect(),Pe=$(je,y),at=Pe.clientX,q=Pe.clientY;if(!(!at&&!q)){var Ot=at-xe.left,Ce=q-xe.top,ge=ue.computeAlignment(Ee,de,{minX:0,minY:0,maxX:xe.width,maxY:xe.height},he.bounds,X),Fe=new ue.Mat2D;ge.invert(Fe);var He=new ue.Vec2D(Ot,Ce),G=ue.mapXY(Fe,He),ne=G.x(),Xe=G.y();switch(G.delete(),Fe.delete(),He.delete(),ge.delete(),je.type){case"mouseout":for(var fe=0,De=Ae;fe<De.length;fe++){var be=De[fe];be.pointerMove(ne,Xe)}break;case"touchmove":case"mouseover":case"mousemove":{for(var st=0,mt=Ae;st<mt.length;st++){var be=mt[st];be.pointerMove(ne,Xe)}break}case"touchstart":case"mousedown":{for(var ut=0,Ct=Ae;ut<Ct.length;ut++){var be=Ct[ut];be.pointerDown(ne,Xe)}break}case"touchend":case"mouseup":{for(var Se=0,Ge=Ae;Se<Ge.length;Se++){var be=Ge[Se];be.pointerUp(ne,Xe)}break}}}},pe=j.bind(te);return c.addEventListener("mouseover",pe),c.addEventListener("mouseout",pe),c.addEventListener("mousemove",pe),c.addEventListener("mousedown",pe),c.addEventListener("mouseup",pe),c.addEventListener("touchmove",pe,{passive:y}),c.addEventListener("touchstart",pe,{passive:y}),c.addEventListener("touchend",pe),function(){c.removeEventListener("mouseover",pe),c.removeEventListener("mouseout",pe),c.removeEventListener("mousemove",pe),c.removeEventListener("mousedown",pe),c.removeEventListener("mouseup",pe),c.removeEventListener("touchmove",pe),c.removeEventListener("touchstart",pe),c.removeEventListener("touchend",pe)}}},(le,k,U)=>{U.r(k),U.d(k,{BLANK_URL:()=>se,sanitizeUrl:()=>ue});var te=/^([^\w]*)(javascript|data|vbscript)/im,$=/&#(\w+)(^\w|;)?/g,Y=/&(newline|tab);/gi,O=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c=/^.+(:|&colon;)/gim,he=[".","/"],se="about:blank";function Ae(Ee){return he.indexOf(Ee[0])>-1}function ce(Ee){var de=Ee.replace(O,"");return de.replace($,function(z,y){return String.fromCharCode(y)})}function ue(Ee){if(!Ee)return se;var de=ce(Ee).replace(Y,"").replace(O,"").trim();if(!de)return se;if(Ae(de))return de;var z=de.match(c);if(!z)return de;var y=z[0];return te.test(y)?se:de}},(le,k,U)=>{U.r(k),U.d(k,{AudioAssetWrapper:()=>ce,AudioWrapper:()=>O,CustomFileAssetLoaderWrapper:()=>he,FileAssetWrapper:()=>se,Finalizable:()=>$,FontAssetWrapper:()=>ue,FontWrapper:()=>c,ImageAssetWrapper:()=>Ae,ImageWrapper:()=>Y,finalizationRegistry:()=>z});var te=function(){var y=function(E,X){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ye){re.__proto__=ye}||function(re,ye){for(var j in ye)Object.prototype.hasOwnProperty.call(ye,j)&&(re[j]=ye[j])},y(E,X)};return function(E,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");y(E,X);function re(){this.constructor=E}E.prototype=X===null?Object.create(X):(re.prototype=X.prototype,new re)}}(),$=function(){function y(){this.selfUnref=!1}return y}(),Y=function(y){te(E,y);function E(X){var re=y.call(this)||this;return re._nativeImage=X,re}return Object.defineProperty(E.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),E.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},E}($),O=function(y){te(E,y);function E(X){var re=y.call(this)||this;return re._nativeAudio=X,re}return Object.defineProperty(E.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),E.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},E}($),c=function(y){te(E,y);function E(X){var re=y.call(this)||this;return re._nativeFont=X,re}return Object.defineProperty(E.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),E.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},E}($),he=function(){function y(E,X){this._assetLoaderCallback=X,this.assetLoader=new E.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return y.prototype.loadContents=function(E,X){var re;return E.isImage?re=new Ae(E):E.isAudio?re=new ce(E):E.isFont&&(re=new ue(E)),this._assetLoaderCallback(re,X)},y}(),se=function(){function y(E){this._nativeFileAsset=E}return y.prototype.decode=function(E){this._nativeFileAsset.decode(E)},Object.defineProperty(y.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),y}(),Ae=function(y){te(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype.setRenderImage=function(X){this._nativeFileAsset.setRenderImage(X.nativeImage)},E}(se),ce=function(y){te(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype.setAudioSource=function(X){this._nativeFileAsset.setAudioSource(X.nativeAudio)},E}(se),ue=function(y){te(E,y);function E(){return y!==null&&y.apply(this,arguments)||this}return E.prototype.setFont=function(X){this._nativeFileAsset.setFont(X.nativeFont)},E}(se),Ee=function(){function y(E){}return y.prototype.register=function(E){E.selfUnref=!0},y.prototype.unregister=function(E){},y}(),de=typeof FinalizationRegistry<"u"?FinalizationRegistry:Ee,z=new de(function(y){y.unref()})}],ot={};function _e(le){var k=ot[le];if(k!==void 0)return k.exports;var U=ot[le]={exports:{}};return vt[le](U,U.exports,_e),U.exports}_e.d=(le,k)=>{for(var U in k)_e.o(k,U)&&!_e.o(le,U)&&Object.defineProperty(le,U,{enumerable:!0,get:k[U]})},_e.o=(le,k)=>Object.prototype.hasOwnProperty.call(le,k),_e.r=le=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})};var Oe={};return(()=>{_e.r(Oe),_e.d(Oe,{Alignment:()=>ue,DataEnum:()=>Xe,EventType:()=>j,Fit:()=>ce,Layout:()=>Ee,LoopType:()=>pe,Rive:()=>G,RiveEventType:()=>E,RiveFile:()=>He,RuntimeLoader:()=>de,StateMachineInput:()=>y,StateMachineInputType:()=>z,Testing:()=>An,ViewModel:()=>ne,ViewModelInstance:()=>De,ViewModelInstanceArtboard:()=>lt,ViewModelInstanceAssetImage:()=>Wt,ViewModelInstanceBoolean:()=>ut,ViewModelInstanceColor:()=>gt,ViewModelInstanceEnum:()=>Se,ViewModelInstanceList:()=>Ge,ViewModelInstanceNumber:()=>mt,ViewModelInstanceString:()=>st,ViewModelInstanceTrigger:()=>Ct,ViewModelInstanceValue:()=>be,decodeAudio:()=>Jt,decodeFont:()=>yt,decodeImage:()=>Cn});var le=_e(1),k=_e(2),U=_e(3),te=_e(5),$=function(){var a=function(n,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(u[g]=h[g])},a(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(n,i);function u(){this.constructor=n}n.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),Y=function(){return Y=Object.assign||function(a){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(a[h]=n[h])}return a},Y.apply(this,arguments)},O=function(a,n,i,u){function h(g){return g instanceof i?g:new i(function(b){b(g)})}return new(i||(i=Promise))(function(g,b){function T(N){try{L(u.next(N))}catch(ie){b(ie)}}function S(N){try{L(u.throw(N))}catch(ie){b(ie)}}function L(N){N.done?g(N.value):h(N.value).then(T,S)}L((u=u.apply(a,n||[])).next())})},c=function(a,n){var i={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,h,g,b=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return b.next=T(0),b.throw=T(1),b.return=T(2),typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(L){return function(N){return S([L,N])}}function S(L){if(u)throw new TypeError("Generator is already executing.");for(;b&&(b=0,L[0]&&(i=0)),i;)try{if(u=1,h&&(g=L[0]&2?h.return:L[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,L[1])).done)return g;switch(h=0,g&&(L=[L[0]&2,g.value]),L[0]){case 0:case 1:g=L;break;case 4:return i.label++,{value:L[1],done:!1};case 5:i.label++,h=L[1],L=[0];continue;case 7:L=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(L[0]===6||L[0]===2)){i=0;continue}if(L[0]===3&&(!g||L[1]>g[0]&&L[1]<g[3])){i.label=L[1];break}if(L[0]===6&&i.label<g[1]){i.label=g[1],g=L;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(L);break}g[2]&&i.ops.pop(),i.trys.pop();continue}L=n.call(a,i)}catch(N){L=[6,N],h=0}finally{u=g=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}},he=function(a,n,i){if(i||arguments.length===2)for(var u=0,h=n.length,g;u<h;u++)(g||!(u in n))&&(g||(g=Array.prototype.slice.call(n,0,u)),g[u]=n[u]);return a.concat(g||Array.prototype.slice.call(n))},se=function(a){$(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i.isHandledError=!0,i}return n}(Error),Ae=function(a){return a&&a.isHandledError?a.message:"Problem loading file; may be corrupt!"},ce;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown",a.Layout="layout"})(ce||(ce={}));var ue;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(ue||(ue={}));var Ee=function(){function a(n){var i,u,h,g,b,T,S;this.fit=(i=n==null?void 0:n.fit)!==null&&i!==void 0?i:ce.Contain,this.alignment=(u=n==null?void 0:n.alignment)!==null&&u!==void 0?u:ue.Center,this.layoutScaleFactor=(h=n==null?void 0:n.layoutScaleFactor)!==null&&h!==void 0?h:1,this.minX=(g=n==null?void 0:n.minX)!==null&&g!==void 0?g:0,this.minY=(b=n==null?void 0:n.minY)!==null&&b!==void 0?b:0,this.maxX=(T=n==null?void 0:n.maxX)!==null&&T!==void 0?T:0,this.maxY=(S=n==null?void 0:n.maxY)!==null&&S!==void 0?S:0}return a.new=function(n){var i=n.fit,u=n.alignment,h=n.minX,g=n.minY,b=n.maxX,T=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:i,alignment:u,minX:h,minY:g,maxX:b,maxY:T})},a.prototype.copyWith=function(n){var i=n.fit,u=n.alignment,h=n.layoutScaleFactor,g=n.minX,b=n.minY,T=n.maxX,S=n.maxY;return new a({fit:i??this.fit,alignment:u??this.alignment,layoutScaleFactor:h??this.layoutScaleFactor,minX:g??this.minX,minY:b??this.minY,maxX:T??this.maxX,maxY:S??this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===ce.Cover?i=n.Fit.cover:this.fit===ce.Contain?i=n.Fit.contain:this.fit===ce.Fill?i=n.Fit.fill:this.fit===ce.FitWidth?i=n.Fit.fitWidth:this.fit===ce.FitHeight?i=n.Fit.fitHeight:this.fit===ce.ScaleDown?i=n.Fit.scaleDown:this.fit===ce.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===ue.TopLeft?i=n.Alignment.topLeft:this.alignment===ue.TopCenter?i=n.Alignment.topCenter:this.alignment===ue.TopRight?i=n.Alignment.topRight:this.alignment===ue.CenterLeft?i=n.Alignment.centerLeft:this.alignment===ue.CenterRight?i=n.Alignment.centerRight:this.alignment===ue.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===ue.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===ue.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},a}(),de=function(){function a(){}return a.loadRuntime=function(){le.default({locateFile:function(){return a.wasmURL}}).then(function(n){var i;for(a.runtime=n;a.callBackQueue.length>0;)(i=a.callBackQueue.shift())===null||i===void 0||i(a.runtime)}).catch(function(n){var i={message:(n==null?void 0:n.message)||"Unknown error",type:(n==null?void 0:n.name)||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var u="https://cdn.jsdelivr.net/npm/".concat(k.name,"@").concat(k.version,"/rive_fallback.wasm");if(a.wasmURL.toLowerCase()!==u)console.warn("Failed to load WASM from ".concat(a.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),a.setWasmUrl(u),a.loadRuntime();else{var h=["Could not load Rive WASM file from ".concat(a.wasmURL," or ").concat(u,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(h)}})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(i){return n(i)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.getWasmUrl=function(){return a.wasmURL},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/".concat(k.name,"@").concat(k.version,"/rive.wasm"),a}(),z;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(z||(z={}));var y=function(){function a(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===z.Trigger&&this.runtimeInput.fire()},a.prototype.delete=function(){this.runtimeInput=null},a}(),E;(function(a){a[a.General=128]="General",a[a.OpenUrl=131]="OpenUrl"})(E||(E={}));var X=function(){function a(n){this.nativeArtboard=n}return a}(),re=function(){function a(n,i,u,h){this.stateMachine=n,this.playing=u,this.artboard=h,this.inputs=[],this.instance=new i.StateMachineInstance(n,h),this.initInputs(i)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},a.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},a.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},a.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var u=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(u,n))}},a.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new y(z.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new y(z.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new y(z.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},a.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},a}(),ye=function(){function a(n,i,u,h,g){h===void 0&&(h=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=i,this.eventManager=u,this.animations=h,this.stateMachines=g}return a.prototype.add=function(n,i,u){if(u===void 0&&(u=!0),n=ke(n),n.length===0)this.animations.forEach(function(me){return me.playing=i}),this.stateMachines.forEach(function(me){return me.playing=i});else for(var h=this.animations.map(function(me){return me.name}),g=this.stateMachines.map(function(me){return me.name}),b=0;b<n.length;b++){var T=h.indexOf(n[b]),S=g.indexOf(n[b]);if(T>=0||S>=0)T>=0?this.animations[T].playing=i:this.stateMachines[S].playing=i;else{var L=this.artboard.animationByName(n[b]);if(L){var N=new U.Animation(L,this.artboard,this.runtime,i);N.advance(0),N.apply(1),this.animations.push(N)}else{var ie=this.artboard.stateMachineByName(n[b]);if(ie){var Me=new re(ie,this.runtime,i,this.artboard);this.stateMachines.push(Me)}}}}return u&&(i?this.eventManager.fire({type:j.Play,data:this.playing}):this.eventManager.fire({type:j.Pause,data:this.paused})),i?this.playing:this.paused},a.prototype.initLinearAnimations=function(n,i){for(var u=this.animations.map(function(S){return S.name}),h=0;h<n.length;h++){var g=u.indexOf(n[h]);if(g>=0)this.animations[g].playing=i;else{var b=this.artboard.animationByName(n[h]);if(b){var T=new U.Animation(b,this.artboard,this.runtime,i);T.advance(0),T.apply(1),this.animations.push(T)}else console.error("Animation with name ".concat(n[h]," not found."))}}},a.prototype.initStateMachines=function(n,i){for(var u=this.stateMachines.map(function(S){return S.name}),h=0;h<n.length;h++){var g=u.indexOf(n[h]);if(g>=0)this.stateMachines[g].playing=i;else{var b=this.artboard.stateMachineByName(n[h]);if(b){var T=new re(b,this.runtime,i,this.artboard);this.stateMachines.push(T),i||T.advanceAndApply(0)}else console.warn("State Machine with name ".concat(n[h]," not found.")),this.initLinearAnimations([n[h]],i)}}},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,i){var u=this.animations.filter(function(h){return n.includes(h.name)});return u.forEach(function(h){return h.scrubTo=i}),u.map(function(h){return h.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var i=this;n=ke(n);var u=[];if(n.length===0)u=this.animations.map(function(b){return b.name}).concat(this.stateMachines.map(function(b){return b.name})),this.animations.forEach(function(b){return b.cleanup()}),this.stateMachines.forEach(function(b){return b.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var h=this.animations.filter(function(b){return n.includes(b.name)});h.forEach(function(b){b.cleanup(),i.animations.splice(i.animations.indexOf(b),1)});var g=this.stateMachines.filter(function(b){return n.includes(b.name)});g.forEach(function(b){b.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(b),1)}),u=h.map(function(b){return b.name}).concat(g.map(function(b){return b.name}))}return this.eventManager.fire({type:j.Stop,data:u}),u},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var u;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([u=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([u=this.artboard.stateMachineByIndex(0).name],n,i)),u},a.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(h){return h.playing});n<i.length;n++){var u=i[n];u.loopValue===0&&u.loopCount?(u.loopCount=0,this.stop(u.name)):u.loopValue===1&&u.loopCount?(this.eventManager.fire({type:j.Loop,data:{animation:u.name,type:pe.Loop}}),u.loopCount=0):u.loopValue===2&&u.loopCount>1&&(this.eventManager.fire({type:j.Loop,data:{animation:u.name,type:pe.PingPong}}),u.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],i=0,u=this.stateMachines.filter(function(g){return g.playing});i<u.length;i++){var h=u[i];n.push.apply(n,h.statesChanged)}n.length>0&&this.eventManager.fire({type:j.StateChange,data:n})},a.prototype.handleAdvancing=function(n){this.eventManager.fire({type:j.Advance,data:n})},a}(),j;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.Advance="advance",a.StateChange="statechange",a.RiveEvent="riveevent",a.AudioStatusChange="audiostatuschange"})(j||(j={}));var pe;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(pe||(pe={}));var je=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var u=this.listeners[i];if(u.type===n.type&&u.callback===n.callback){this.listeners.splice(i,1);break}}},a.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(u){return u.type===n}).forEach(function(u){return i.remove(u)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(u){return u.callback(n)})},a}(),xe=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),Pe;(function(a){a[a.AVAILABLE=0]="AVAILABLE",a[a.UNAVAILABLE=1]="UNAVAILABLE"})(Pe||(Pe={}));var at=function(a){$(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=Pe.UNAVAILABLE,i}return n.prototype.delay=function(i){return O(this,void 0,void 0,function(){return c(this,function(u){return[2,new Promise(function(h){return setTimeout(h,i)})]})})},n.prototype.timeout=function(){return O(this,void 0,void 0,function(){return c(this,function(i){return[2,new Promise(function(u,h){return setTimeout(h,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:j.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return O(this,void 0,void 0,function(){return c(this,function(i){return this._enabled||(this._enabled=!0,this._status=Pe.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return O(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:if(!(this._status===Pe.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return O(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==Pe.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,u=function(){return O(i,void 0,void 0,function(){return c(this,function(h){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",u,{once:!0})},n.prototype.establishAudio=function(){return O(this,void 0,void 0,function(){return c(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===Pe.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n}(je),q=new at,Ot=function(){function a(){}return a.prototype.observe=function(){},a.prototype.unobserve=function(){},a.prototype.disconnect=function(){},a}(),Ce=globalThis.ResizeObserver||Ot,ge=function(){function a(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var u=n._elementsMap.get(i.target);u!==null?u.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new Ce(this._onObserved)}return a.prototype.add=function(n,i){var u={onResize:i,element:n};return this._elementsMap.set(n,u),this._resizeObserver.observe(n),u},a.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},a}(),Fe=new ge,He=function(){function a(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new je,n.onLoad&&this.on(j.Load,n.onLoad),n.onLoadError&&this.on(j.LoadError,n.onLoadError)}return a.prototype.initData=function(){return O(this,void 0,void 0,function(){var n,i,u,h,g;return c(this,function(b){switch(b.label){case 0:return this.src?(n=this,[4,Kt(this.src)]):[3,2];case 1:n.buffer=b.sent(),b.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(u=new te.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=u.assetLoader),h=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return h.file=b.sent(),this.destroyed?((g=this.file)===null||g===void 0||g.delete(),this.file=null,[2]):(this.file!==null?this.eventManager.fire({type:j.Load,data:this}):this.fireLoadError(a.fileLoadErrorMessage),[2])}})})},a.prototype.init=function(){return O(this,void 0,void 0,function(){var n,i;return c(this,function(u){switch(u.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(a.missingErrorMessage),[2];u.label=1;case 1:return u.trys.push([1,4,,5]),n=this,[4,de.awaitInstance()];case 2:return n.runtime=u.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return u.sent(),[3,5];case 4:return i=u.sent(),this.fireLoadError(i instanceof Error?i.message:a.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},a.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:j.LoadError,data:n}),new Error(n)},a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.cleanup=function(){var n;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(n=this.file)===null||n===void 0||n.delete(),this.file=null,this.destroyed=!0)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},a.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},a.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);return i!=null?new X(i):null},a.missingErrorMessage="Rive source file or data buffer required",a.fileLoadErrorMessage="The file failed to load",a}(),G=function(){function a(n){var i=this,u;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(h){var g=i._hasZeroSize!==h;i._hasZeroSize=h,h?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():g&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=Fe.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(u=n.layout)!==null&&u!==void 0?u:new Ee,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new je,n.onLoad&&this.on(j.Load,n.onLoad),n.onLoadError&&this.on(j.LoadError,n.onLoadError),n.onPlay&&this.on(j.Play,n.onPlay),n.onPause&&this.on(j.Pause,n.onPause),n.onStop&&this.on(j.Stop,n.onStop),n.onLoop&&this.on(j.Loop,n.onLoop),n.onStateChange&&this.on(j.StateChange,n.onStateChange),n.onAdvance&&this.on(j.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(j.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(j.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(j.Play,n.onplay),n.onpause&&!n.onPause&&this.on(j.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(j.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(j.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(j.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new xe(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(a.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.onSystemAudioChanged=function(){this.volume=this._volume},a.prototype.init=function(n){var i=this,u=n.src,h=n.buffer,g=n.riveFile,b=n.animations,T=n.stateMachines,S=n.artboard,L=n.autoplay,N=L===void 0?!1:L,ie=n.useOffscreenRenderer,Me=ie===void 0?!1:ie,me=n.autoBind,Ke=me===void 0?!1:me;if(!this.destroyed){if(this.src=u,this.buffer=h,this.riveFile=g,!this.src&&!this.buffer&&!this.riveFile)throw new se(a.missingErrorMessage);var Ne=ke(b),Ve=ke(T);this.loaded=!1,this.readyForPlaying=!1,de.awaitInstance().then(function(We){i.destroyed||(i.runtime=We,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Me),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(S,Ne,Ve,N,Ke).then(function($e){if($e)return i.setupRiveListeners()}).catch(function($e){console.error($e)}))}).catch(function(We){console.error(We)})}},a.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var u=(this.animator.stateMachines||[]).filter(function(g){return g.playing&&i.runtime.hasListeners(g.instance)}).map(function(g){return g.instance}),h=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(h=n.isTouchScrollEnabled),this.eventCleanup=(0,te.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:u,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:h,layoutScaleFactor:this._layout.layoutScaleFactor})}},a.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},a.prototype.initializeAudio=function(){var n=this,i;q.status==Pe.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:j.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},q.add(this._audioEventListener),q.establishAudio())},a.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},a.prototype.initData=function(n,i,u,h,g){return O(this,void 0,void 0,function(){var b,T,S,L;return c(this,function(N){switch(N.label){case 0:return N.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(b=new He({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=b,[4,b.init()]);case 1:if(N.sent(),this.destroyed)return b.destroyIfUnused(),[2,!1];N.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,u,h,g),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:j.Load,data:(L=this.src)!==null&&L!==void 0?L:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return T=N.sent(),S=Ae(T),console.warn(S),this.eventManager.fire({type:j.LoadError,data:S}),[2,Promise.reject(S)];case 4:return[2]}})})},a.prototype.initArtboard=function(n,i,u,h,g){if(this.file){var b=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!b){var T="Invalid artboard name or no default artboard";console.warn(T),this.eventManager.fire({type:j.LoadError,data:T});return}if(this.artboard=b,b.volume=this._volume*q.systemVolume,this.artboard.animationCount()<1){var T="Artboard has no animations";throw this.eventManager.fire({type:j.LoadError,data:T}),T}this.animator=new ye(this.runtime,this.artboard,this.eventManager);var S;if(i.length>0||u.length>0?(S=i.concat(u),this.animator.initLinearAnimations(i,h),this.animator.initStateMachines(u,h)):S=[this.animator.atLeastOne(h,!1)],this.taskQueue.add({event:{type:h?j.Play:j.Pause,data:S}}),g){var L=this.file.defaultArtboardViewModel(b);if(L!==null){var N=L.defaultInstance();if(N!==null){var ie=new De(N,null);this.bindViewModelInstance(ie)}}}}},a.prototype.drawFrame=function(){var n,i;!((n=document==null?void 0:document.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},a.prototype.draw=function(n,i){var u;this.frameRequestId=null;var h=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i==null||i());var g=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var b=this.animator.animations.filter(function(tt){return tt.playing||tt.needsScrub}).sort(function(tt){return tt.needsScrub?-1:1}),T=0,S=b;T<S.length;T++){var L=S[T];L.advance(g),L.instance.didLoop&&(L.loopCount+=1),L.apply(1)}for(var N=this.animator.stateMachines.filter(function(tt){return tt.playing}),ie=0,Me=N;ie<Me.length;ie++){var me=Me[ie],Ke=me.reportedEventCount();if(Ke)for(var Ne=0;Ne<Ke;Ne++){var Ve=me.reportedEventAt(Ne);if(Ve)if(Ve.type===E.OpenUrl){if(this.eventManager.fire({type:j.RiveEvent,data:Ve}),this.automaticallyHandleEvents){var We=document.createElement("a"),$e=Ve,wt=$e.url,bt=$e.target,et=(0,te.sanitizeUrl)(wt);wt&&We.setAttribute("href",et),bt&&We.setAttribute("target",bt),et&&et!==te.BLANK_URL&&We.click()}}else this.eventManager.fire({type:j.RiveEvent,data:Ve})}me.advanceAndApply(g)}this.animator.stateMachines.length==0&&this.artboard.advance(g);var x=this.renderer;x.clear(),x.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(x),x.restore(),x.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(g),this.frameCount++;var ee=performance.now();for(this.frameTimes.push(ee),this.durations.push(ee-h);this.frameTimes[0]<=ee-1e3;)this.frameTimes.shift(),this.durations.shift();(u=this._viewModelInstance)===null||u===void 0||u.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,i=n.renderer,u=n.runtime,h=n._layout,g=n.artboard;i.align(h.runtimeFit(u),h.runtimeAlignment(u),{minX:h.minX,minY:h.minY,maxX:h.maxX,maxY:h.maxY},g.bounds,this._devicePixelRatioUsed*h.layoutScaleFactor)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Fe.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(q.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},a.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var u=this.artboard.textRun(n);if(!u){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return u},a.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},a.prototype.setTextRunValue=function(n,i){var u=this.retrieveTextRun(n);u&&(u.text=i)},a.prototype.play=function(n,i){var u=this;if(n=ke(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},a.prototype.pause=function(n){var i=this;if(n=ke(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},a.prototype.scrub=function(n,i){var u=this;if(n=ke(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},a.prototype.stop=function(n){var i=this;if(n=ke(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},a.prototype.reset=function(n){var i,u,h=n==null?void 0:n.artboard,g=ke(n==null?void 0:n.animations),b=ke(n==null?void 0:n.stateMachines),T=(i=n==null?void 0:n.autoplay)!==null&&i!==void 0?i:!1,S=(u=n==null?void 0:n.autoBind)!==null&&u!==void 0?u:!1;this.cleanupInstances(),this.initArtboard(h,g,b,T,S),this.taskQueue.process()},a.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),u=i.width,h=i.height,g=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=g,this.canvas.width=g*u,this.canvas.height=g*h,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ce.Layout){var b=this._layout.layoutScaleFactor;this.artboard.width=u/b,this.artboard.height=h/b}}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(u){return u.name===n});return i==null?void 0:i.inputs}},a.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.inputByPath(n,i);if(!u){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.setBooleanStateAtPath=function(n,i,u){var h=this.retrieveInputAtPath(n,u);h&&(h.type===z.Boolean?h.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a boolean")))},a.prototype.setNumberStateAtPath=function(n,i,u){var h=this.retrieveInputAtPath(n,u);h&&(h.type===z.Number?h.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a number")))},a.prototype.fireStateAtPath=function(n,i){var u=this.retrieveInputAtPath(n,i);u&&(u.type===z.Trigger?u.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},a.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.textByPath(n,i);if(!u){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.getTextRunValueAtPath=function(n,i){var u=this.retrieveTextAtPath(n,i);if(!u){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u.text},a.prototype.setTextRunValueAtPath=function(n,i,u){var h=this.retrieveTextAtPath(n,u);if(!h){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(u,"'"));return}h.text=i},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var u=this.file.artboardByIndex(i),h={name:u.name,animations:[],stateMachines:[]},g=0;g<u.animationCount();g++){var b=u.animationByIndex(g);h.animations.push(b.name)}for(var T=0;T<u.stateMachineCount();T++){for(var S=u.stateMachineByIndex(T),L=S.name,N=new this.runtime.StateMachineInstance(S,u),ie=[],Me=0;Me<N.inputCount();Me++){var me=N.input(Me);ie.push({name:me.name,type:me.type})}h.stateMachines.push({name:L,inputs:ie})}n.artboards.push(h)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*q.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),a.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(a.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),a.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(u){return u.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(a.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),a.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new ne(i):null},a.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new ne(i):null},a.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new Xe(i)})}return this._dataEnums},a.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new ne(n)}return null},a.prototype.getArtboard=function(n){var i,u;return(u=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&u!==void 0?u:null},a.missingErrorMessage="Rive source file or data buffer required",a.cleanupErrorMessage="Attempt to use file after calling cleanup.",a}(),ne=function(){function a(n){this._viewModel=n}return Object.defineProperty(a.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),a.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new De(i,null):null},a.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new De(i,null):null},a.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new De(n,null):null},a.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new De(n,null):null},Object.defineProperty(a.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),a}(),Xe=function(){function a(n){this._dataEnum=n}return Object.defineProperty(a.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),a}(),fe;(function(a){a.Number="number",a.String="string",a.Boolean="boolean",a.Color="color",a.Trigger="trigger",a.Enum="enum",a.List="list",a.Image="image",a.Artboard="artboard"})(fe||(fe={}));var De=function(){function a(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(a.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),a.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},a.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},a.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var u=this._parents[i];u.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},a.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},a.prototype.propertyFromPath=function(n,i){var u=n.split("/");return this.propertyFromPathSegments(u,0,i)},a.prototype.viewModelFromPathSegments=function(n,i){var u=this.internalViewModelInstance(n[i]);return u!==null?i==n.length-1?u:u.viewModelFromPathSegments(n,i++):null},a.prototype.propertyFromPathSegments=function(n,i,u){var h,g,b,T,S,L,N,ie,Me,me,Ke,Ne,Ve,We,$e,wt,bt,et;if(i<n.length-1){var x=this.internalViewModelInstance(n[i]);return x!==null?x.propertyFromPathSegments(n,i+1,u):null}var ee=null;switch(u){case fe.Number:if(ee=(g=(h=this._runtimeInstance)===null||h===void 0?void 0:h.number(n[i]))!==null&&g!==void 0?g:null,ee!==null)return new mt(ee,this);break;case fe.String:if(ee=(T=(b=this._runtimeInstance)===null||b===void 0?void 0:b.string(n[i]))!==null&&T!==void 0?T:null,ee!==null)return new st(ee,this);break;case fe.Boolean:if(ee=(L=(S=this._runtimeInstance)===null||S===void 0?void 0:S.boolean(n[i]))!==null&&L!==void 0?L:null,ee!==null)return new ut(ee,this);break;case fe.Color:if(ee=(ie=(N=this._runtimeInstance)===null||N===void 0?void 0:N.color(n[i]))!==null&&ie!==void 0?ie:null,ee!==null)return new gt(ee,this);break;case fe.Trigger:if(ee=(me=(Me=this._runtimeInstance)===null||Me===void 0?void 0:Me.trigger(n[i]))!==null&&me!==void 0?me:null,ee!==null)return new Ct(ee,this);break;case fe.Enum:if(ee=(Ne=(Ke=this._runtimeInstance)===null||Ke===void 0?void 0:Ke.enum(n[i]))!==null&&Ne!==void 0?Ne:null,ee!==null)return new Se(ee,this);break;case fe.List:if(ee=(We=(Ve=this._runtimeInstance)===null||Ve===void 0?void 0:Ve.list(n[i]))!==null&&We!==void 0?We:null,ee!==null)return new Ge(ee,this);break;case fe.Image:if(ee=(wt=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.image(n[i]))!==null&&wt!==void 0?wt:null,ee!==null)return new Wt(ee,this);break;case fe.Artboard:if(ee=(et=(bt=this._runtimeInstance)===null||bt===void 0?void 0:bt.artboard(n[i]))!==null&&et!==void 0?et:null,ee!==null)return new lt(ee,this);break}return null},a.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var u=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(u!==null){var h=new a(u,this);return h.internalIncrementReferenceCount(),this._viewModelInstances.set(n,h),h}return null},a.prototype.number=function(n){var i=this.propertyFromPath(n,fe.Number);return i},a.prototype.string=function(n){var i=this.propertyFromPath(n,fe.String);return i},a.prototype.boolean=function(n){var i=this.propertyFromPath(n,fe.Boolean);return i},a.prototype.color=function(n){var i=this.propertyFromPath(n,fe.Color);return i},a.prototype.trigger=function(n){var i=this.propertyFromPath(n,fe.Trigger);return i},a.prototype.enum=function(n){var i=this.propertyFromPath(n,fe.Enum);return i},a.prototype.list=function(n){var i=this.propertyFromPath(n,fe.List);return i},a.prototype.image=function(n){var i=this.propertyFromPath(n,fe.Image);return i},a.prototype.artboard=function(n){var i=this.propertyFromPath(n,fe.Artboard);return i},a.prototype.viewModel=function(n){var i=n.split("/"),u=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return u!=null?u.internalViewModelInstance(i[i.length-1]):null},a.prototype.internalReplaceViewModel=function(n,i){var u;if(i.runtimeInstance!==null){var h=((u=this._runtimeInstance)===null||u===void 0?void 0:u.replaceViewModel(n,i.runtimeInstance))||!1;if(h){i.internalIncrementReferenceCount();var g=this.internalViewModelInstance(n);g!==null&&(g.removeParent(this),this._children.includes(g)&&(this._children=this._children.filter(function(b){return b!==g})),g.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return h}return!1},a.prototype.replaceViewModel=function(n,i){var u,h=n.split("/"),g=h.length>1?this.viewModelFromPathSegments(h.slice(0,h.length-1),0):this;return(u=g==null?void 0:g.internalReplaceViewModel(h[h.length-1],i))!==null&&u!==void 0?u:!1},a.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},a.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(a.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return Y({},i)}))||[]},enumerable:!1,configurable:!0}),a.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},a.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(h){h.cleanup()}),this._viewModelInstances.clear();var i=he([],this._children,!0);this._children.length=0;var u=he([],this._parents,!0);this._parents.length=0,i.forEach(function(h){h.removeParent(n)}),u.forEach(function(h){h.removeFromViewModelCallbacks(n)})}},a}(),be=function(){function a(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return a.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},a.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},a.prototype.internalHandleCallback=function(n){},a.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},a.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},a.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),a}(),st=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(be),mt=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(be),ut=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(be),Ct=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n}(be),Se=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(be),Ge=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,u){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,u)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var u=this._viewModelInstanceValue.instanceAt(i);if(u!=null){var h=new De(u,this._parentViewModel);return h}return null},n.prototype.swap=function(i,u){this._viewModelInstanceValue.swap(i,u)},n.prototype.internalHandleCallback=function(i){i()},n}(be),gt=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,u,h){this._viewModelInstanceValue.rgb(i,u,h)},n.prototype.rgba=function(i,u,h,g){this._viewModelInstanceValue.argb(g,i,u,h)},n.prototype.argb=function(i,u,h,g){this._viewModelInstanceValue.argb(i,u,h,g)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n}(be),Wt=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var u;this._viewModelInstanceValue.value((u=i==null?void 0:i.nativeImage)!==null&&u!==void 0?u:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n}(be),lt=function(a){$(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){this._viewModelInstanceValue.value(i.nativeArtboard)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n}(be),Kt=function(a){return O(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return i=h.sent(),[4,i.arrayBuffer()];case 2:return u=h.sent(),[2,u]}})})},ke=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},An={EventManager:je,TaskQueueManager:xe},Jt=function(a){return O(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(g){return de.getInstance(function(b){b.decodeAudio(a,g)})}),[4,n];case 1:return i=h.sent(),u=new te.AudioWrapper(i),te.finalizationRegistry.register(u,i),[2,u]}})})},Cn=function(a){return O(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(g){return de.getInstance(function(b){b.decodeImage(a,g)})}),[4,n];case 1:return i=h.sent(),u=new te.ImageWrapper(i),te.finalizationRegistry.register(u,i),[2,u]}})})},yt=function(a){return O(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(g){return de.getInstance(function(b){b.decodeFont(a,g)})}),[4,n];case 1:return i=h.sent(),u=new te.FontWrapper(i),te.finalizationRegistry.register(u,i),[2,u]}})})}})(),Oe})())})(Vr);var gi=Vr.exports;const yi={class:"rive-demo-container"},wi={class:"demo-content"},bi={class:"rive-container"},_i={key:0,class:"loading-overlay"},Ai={key:1,class:"error-overlay"},Ci={key:2,class:"file-guide-overlay"},Mi={class:"guide-content"},Ri={class:"control-panel"},Ii={class:"control-group"},Ei={class:"value"},Pi={class:"control-group"},Fi={class:"value"},Li={class:"control-group"},Ti={class:"status"},Oi=ci({__name:"RiveDemoView",setup(Nn){const Tt=Be(null),vt=Be(!0),ot=Be(""),_e=Be(!1);let Oe=null,le=null,k=null,U=null;const te=Be(50),$=Be(50),Y=Be(50),O=Be(50),c=Be(.8),he=Be(1),se=Be(!1),Ae=Be(50),ce=Be(50),ue=async()=>{if(Tt.value){vt.value=!0,ot.value="";try{Oe&&Oe.cleanup(),Oe=new gi.Rive({src:"/rive/character.riv",canvas:Tt.value,stateMachines:["Main"],autoplay:!0,onLoad:()=>{console.log("Rive 載入成功"),vt.value=!1,Oe==null||Oe.resizeDrawingSurfaceToCanvas();const z=Oe==null?void 0:Oe.stateMachineInputs("Main");if(z){if(le=z.find(y=>y.name==="xAxis")||null,k=z.find(y=>y.name==="yAxis")||null,!le||!k){ot.value="找不到 xAxis 或 yAxis 輸入，請檢查 Rive 檔案設定";return}console.log("找到輸入:",{xInput:le.name,yInput:k.name}),de()}},onLoadError:()=>{console.log("Rive 檔案載入失敗"),vt.value=!1,_e.value=!0}})}catch(z){console.error("Rive 初始化錯誤:",z),ot.value=`初始化失敗: ${z}`,vt.value=!1}}},Ee=z=>{if(!Tt.value)return;const y=Tt.value.getBoundingClientRect(),E=(z.clientX-y.left)/y.width*100*he.value,X=(z.clientY-y.top)/y.height*100*he.value;Ae.value=Math.max(0,Math.min(100,E)),ce.value=Math.max(0,Math.min(100,se.value?100-X:X)),te.value=Ae.value,$.value=ce.value},de=()=>{const z=()=>{const y=1-c.value;Y.value+=(Ae.value-Y.value)*y,O.value+=(ce.value-O.value)*y,le&&k&&(le.value=Y.value,k.value=O.value),U=requestAnimationFrame(z)};z()};return fi([c,he,se],()=>{console.log("控制參數更新:",{smoothness:c.value,sensitivity:he.value,invertY:se.value})}),di(()=>{ue()}),hi(()=>{U&&cancelAnimationFrame(U),Oe&&Oe.cleanup()}),(z,y)=>(_n(),bn("div",yi,[y[13]||(y[13]=J("div",{class:"demo-header"},[J("h1",null,"🎯 Rive 2D 角色互動 Demo"),J("p",{class:"demo-description"}," 移動滑鼠或觸控螢幕，看角色的眼睛和頭部如何跟隨您的移動！ ")],-1)),J("div",wi,[J("div",bi,[J("canvas",{ref_key:"riveCanvas",ref:Tt,class:"rive-canvas",onPointermove:Ee},null,544),vt.value?(_n(),bn("div",_i,y[4]||(y[4]=[J("div",{class:"loading-spinner"},null,-1),J("p",null,"正在載入角色動畫...",-1)]))):Un("",!0),ot.value?(_n(),bn("div",Ai,[y[5]||(y[5]=J("div",{class:"error-icon"},"⚠️",-1)),J("p",null,Lt(ot.value),1),J("button",{onClick:ue,class:"retry-btn"},"重試")])):Un("",!0),_e.value?(_n(),bn("div",Ci,[J("div",Mi,[y[6]||(y[6]=xr('<h3 data-v-ad22ce81>🎨 如何建立Rive檔案</h3><ol data-v-ad22ce81><li data-v-ad22ce81>前往 <a href="https://rive.app" target="_blank" data-v-ad22ce81>Rive.app</a> 建立帳號</li><li data-v-ad22ce81>建立新專案，設計您的2D角色</li><li data-v-ad22ce81>新增 State Machine 和兩個 Number 輸入：<code data-v-ad22ce81>xAxis</code> 和 <code data-v-ad22ce81>yAxis</code></li><li data-v-ad22ce81>設定眼睛/頭部的約束或混合，讓它們響應這些輸入</li><li data-v-ad22ce81>匯出為 <code data-v-ad22ce81>.riv</code> 檔案並放在 <code data-v-ad22ce81>public/rive/character.riv</code></li></ol>',2)),J("button",{onClick:y[0]||(y[0]=E=>_e.value=!1),class:"close-guide-btn"},"我知道了")])])):Un("",!0)]),J("div",Ri,[y[12]||(y[12]=J("h3",null,"🎛️ 控制設定",-1)),J("div",Ii,[y[7]||(y[7]=J("label",null,"平滑度",-1)),Bn(J("input",{type:"range",min:"0",max:"1",step:"0.1","onUpdate:modelValue":y[1]||(y[1]=E=>c.value=E),class:"slider"},null,512),[[Sr,c.value]]),J("span",Ei,Lt(c.value),1)]),J("div",Pi,[y[8]||(y[8]=J("label",null,"敏感度",-1)),Bn(J("input",{type:"range",min:"0.5",max:"2",step:"0.1","onUpdate:modelValue":y[2]||(y[2]=E=>he.value=E),class:"slider"},null,512),[[Sr,he.value]]),J("span",Fi,Lt(he.value),1)]),J("div",Li,[J("label",null,[Bn(J("input",{type:"checkbox","onUpdate:modelValue":y[3]||(y[3]=E=>se.value=E)},null,512),[[vi,se.value]]),y[9]||(y[9]=pi(" 反轉Y軸 "))])]),J("div",Ti,[y[10]||(y[10]=J("p",null,[J("strong",null,"目前座標：")],-1)),J("p",null,"X: "+Lt(te.value.toFixed(1))+"%",1),J("p",null,"Y: "+Lt($.value.toFixed(1))+"%",1),y[11]||(y[11]=J("p",null,[J("strong",null,"平滑座標：")],-1)),J("p",null,"X: "+Lt(Y.value.toFixed(1))+"%",1),J("p",null,"Y: "+Lt(O.value.toFixed(1))+"%",1)])])]),y[14]||(y[14]=xr('<div class="tech-details" data-v-ad22ce81><h3 data-v-ad22ce81>🔧 技術實作細節</h3><div class="details-grid" data-v-ad22ce81><div class="detail-card" data-v-ad22ce81><h4 data-v-ad22ce81>Rive 設定</h4><ul data-v-ad22ce81><li data-v-ad22ce81>State Machine 名稱：<code data-v-ad22ce81>Main</code></li><li data-v-ad22ce81>X軸輸入：<code data-v-ad22ce81>xAxis</code> (0-100)</li><li data-v-ad22ce81>Y軸輸入：<code data-v-ad22ce81>yAxis</code> (0-100)</li><li data-v-ad22ce81>動畫類型：約束或1D Blend</li></ul></div><div class="detail-card" data-v-ad22ce81><h4 data-v-ad22ce81>Vue 3 整合</h4><ul data-v-ad22ce81><li data-v-ad22ce81>套件：<code data-v-ad22ce81>@rive-app/canvas</code></li><li data-v-ad22ce81>事件：<code data-v-ad22ce81>pointermove</code></li><li data-v-ad22ce81>響應式：<code data-v-ad22ce81>ref</code> 和 <code data-v-ad22ce81>computed</code></li><li data-v-ad22ce81>生命週期：<code data-v-ad22ce81>onMounted</code></li></ul></div><div class="detail-card" data-v-ad22ce81><h4 data-v-ad22ce81>平滑算法</h4><ul data-v-ad22ce81><li data-v-ad22ce81>線性插值 (LERP)</li><li data-v-ad22ce81>可調整平滑度</li><li data-v-ad22ce81>RAF 動畫循環</li><li data-v-ad22ce81>效能優化</li></ul></div></div></div>',1))]))}}),xi=mi(Oi,[["__scopeId","data-v-ad22ce81"]]);export{xi as default};
